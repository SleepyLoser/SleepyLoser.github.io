(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{212:function(e,t,r){"use strict";r(11),r(12),r(13),r(14),r(15);var a={};(function(){var e={function:!0,object:!0},t=e[typeof window]&&window||this;var r=t.JSON,a=t.JSON3,i=!1,n=function r(a,i){a||(a=t.Object()),i||(i=t.Object());var n=a.Number||t.Number,s=a.String||t.String,o=a.Object||t.Object,c=a.Date||t.Date,l=a.SyntaxError||t.SyntaxError,u=a.TypeError||t.TypeError,p=a.Math||t.Math,d=a.JSON||t.JSON;"object"==typeof d&&d&&(i.stringify=d.stringify,i.parse=d.parse);var _=o.prototype,f=_.toString,g=_.hasOwnProperty;function h(e,t){try{e()}catch(e){t&&t()}}var m=new c(-0xc782b5b800cec);function v(e){if(null!=v[e])return v[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=v("json-stringify")&&v("date-serialization")&&v("json-parse");else if("date-serialization"==e){if(t=v("json-stringify")&&m){var r=i.stringify;h((function(){t='"-271821-04-20T00:00:00.000Z"'==r(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new c(-1))}))}}else{var a,o='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l="function"==typeof(r=i.stringify);l&&((a=function(){return 1}).toJSON=a,h((function(){l="0"===r(0)&&"0"===r(new n)&&'""'==r(new s)&&void 0===r(f)&&void 0===r(void 0)&&void 0===r()&&"1"===r(a)&&"[1]"==r([a])&&"[null]"==r([void 0])&&"null"==r(null)&&"[null,null,null]"==r([void 0,f,null])&&r({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==o&&"1"===r(null,a)&&"[\n 1,\n 2\n]"==r([1,2],null,1)}),(function(){l=!1}))),t=l}if("json-parse"==e){var u,p=i.parse;"function"==typeof p&&h((function(){0!==p("0")||p(!1)||(a=p(o),(u=5==a.a.length&&1===a.a[0])&&(h((function(){u=!p('"\t"')})),u&&h((function(){u=1!==p("01")})),u&&h((function(){u=1!==p("1.")}))))}),(function(){u=!1})),t=u}}return v[e]=!!t}if(h((function(){m=-109252==m.getUTCFullYear()&&0===m.getUTCMonth()&&1===m.getUTCDate()&&10==m.getUTCHours()&&37==m.getUTCMinutes()&&6==m.getUTCSeconds()&&708==m.getUTCMilliseconds()})),v["bug-string-char-index"]=v["date-serialization"]=v.json=v["json-stringify"]=v["json-parse"]=null,!v("json")){var y=v("bug-string-char-index"),w=function(t,r){var a,i,n,s=0;for(n in(a=function(){this.valueOf=0}).prototype.valueOf=0,i=new a)g.call(i,n)&&s++;return a=i=null,s?w=function(e,t){var r,a,i="[object Function]"==f.call(e);for(r in e)i&&"prototype"==r||!g.call(e,r)||(a="constructor"===r)||t(r);(a||g.call(e,r="constructor"))&&t(r)}:(i=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],w=function(t,r){var a,n,s="[object Function]"==f.call(t),o=!s&&"function"!=typeof t.constructor&&e[typeof t.hasOwnProperty]&&t.hasOwnProperty||g;for(a in t)s&&"prototype"==a||!o.call(t,a)||r(a);for(n=i.length;a=i[--n];)o.call(t,a)&&r(a)}),w(t,r)};if(!v("json-stringify")&&!v("date-serialization")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},b=function(e,t){return("000000"+(t||0)).slice(-e)},k=function(e){var t,r,a,i,n,s,o,c,l;if(m)t=function(e){r=e.getUTCFullYear(),a=e.getUTCMonth(),i=e.getUTCDate(),s=e.getUTCHours(),o=e.getUTCMinutes(),c=e.getUTCSeconds(),l=e.getUTCMilliseconds()};else{var u=p.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],_=function(e,t){return d[t]+365*(e-1970)+u((e-1969+(t=+(t>1)))/4)-u((e-1901+t)/100)+u((e-1601+t)/400)};t=function(e){for(i=u(e/864e5),r=u(i/365.2425)+1970-1;_(r+1,0)<=i;r++);for(a=u((i-_(r,0))/30.42);_(r,a+1)<=i;a++);i=1+i-_(r,a),s=u((n=(e%864e5+864e5)%864e5)/36e5)%24,o=u(n/6e4)%60,c=u(n/1e3)%60,l=n%1e3}}return(k=function(e){return e>-1/0&&e<1/0?(t(e),e=(r<=0||r>=1e4?(r<0?"-":"+")+b(6,r<0?-r:r):b(4,r))+"-"+b(2,a+1)+"-"+b(2,i)+"T"+b(2,s)+":"+b(2,o)+":"+b(2,c)+"."+b(3,l)+"Z",r=a=i=s=o=c=l=null):e=null,e})(e)};if(v("json-stringify")&&!v("date-serialization")){function P(e){return k(this)}var N=i.stringify;i.stringify=function(e,t,r){var a=c.prototype.toJSON;c.prototype.toJSON=P;var i=N(e,t,r);return c.prototype.toJSON=a,i}}else{var C=function(e){var t=e.charCodeAt(0),r=S[t];return r||"\\u00"+b(2,t.toString(16))},j=/[\x00-\x1f\x22\x5c]/g,A=function(e){return j.lastIndex=0,'"'+(j.test(e)?e.replace(j,C):e)+'"'},$=function(e,t,r,a,i,n,s){var o,l,p,d,_,g,m,v,y;if(h((function(){o=t[e]})),"object"==typeof o&&o&&(o.getUTCFullYear&&"[object Date]"==f.call(o)&&o.toJSON===c.prototype.toJSON?o=k(o):"function"==typeof o.toJSON&&(o=o.toJSON(e))),r&&(o=r.call(t,e,o)),null==o)return void 0===o?o:"null";switch("object"==(l=typeof o)&&(p=f.call(o)),p||l){case"boolean":case"[object Boolean]":return""+o;case"number":case"[object Number]":return o>-1/0&&o<1/0?""+o:"null";case"string":case"[object String]":return A(""+o)}if("object"==typeof o){for(m=s.length;m--;)if(s[m]===o)throw u();if(s.push(o),d=[],v=n,n+=i,"[object Array]"==p){for(g=0,m=o.length;g<m;g++)_=$(g,o,r,a,i,n,s),d.push(void 0===_?"null":_);y=d.length?i?"[\n"+n+d.join(",\n"+n)+"\n"+v+"]":"["+d.join(",")+"]":"[]"}else w(a||o,(function(e){var t=$(e,o,r,a,i,n,s);void 0!==t&&d.push(A(e)+":"+(i?" ":"")+t)})),y=d.length?i?"{\n"+n+d.join(",\n"+n)+"\n"+v+"}":"{"+d.join(",")+"}":"{}";return s.pop(),y}};i.stringify=function(t,r,a){var i,n,s,o;if(e[typeof r]&&r)if("[object Function]"==(o=f.call(r)))n=r;else if("[object Array]"==o){s={};for(var c,l=0,u=r.length;l<u;)c=r[l++],"[object String]"!=(o=f.call(c))&&"[object Number]"!=o||(s[c]=1)}if(a)if("[object Number]"==(o=f.call(a))){if((a-=a%1)>0)for(a>10&&(a=10),i="";i.length<a;)i+=" "}else"[object String]"==o&&(i=a.length<=10?a:a.slice(0,10));return $("",((c={})[""]=t,c),n,s,i,"",[])}}}if(!v("json-parse")){var D,O,T=s.fromCharCode,x={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw D=O=null,l()},E=function(){for(var e,t,r,a,i,n=O,s=n.length;D<s;)switch(i=n.charCodeAt(D)){case 9:case 10:case 13:case 32:D++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=y?n.charAt(D):n[D],D++,e;case 34:for(e="@",D++;D<s;)if((i=n.charCodeAt(D))<32)I();else if(92==i)switch(i=n.charCodeAt(++D)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=x[i],D++;break;case 117:for(t=++D,r=D+4;D<r;D++)(i=n.charCodeAt(D))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||I();e+=T("0x"+n.slice(t,D));break;default:I()}else{if(34==i)break;for(i=n.charCodeAt(D),t=D;i>=32&&92!=i&&34!=i;)i=n.charCodeAt(++D);e+=n.slice(t,D)}if(34==n.charCodeAt(D))return D++,e;I();default:if(t=D,45==i&&(a=!0,i=n.charCodeAt(++D)),i>=48&&i<=57){for(48==i&&((i=n.charCodeAt(D+1))>=48&&i<=57)&&I(),a=!1;D<s&&((i=n.charCodeAt(D))>=48&&i<=57);D++);if(46==n.charCodeAt(D)){for(r=++D;r<s&&!((i=n.charCodeAt(r))<48||i>57);r++);r==D&&I(),D=r}if(101==(i=n.charCodeAt(D))||69==i){for(43!=(i=n.charCodeAt(++D))&&45!=i||D++,r=D;r<s&&!((i=n.charCodeAt(r))<48||i>57);r++);r==D&&I(),D=r}return+n.slice(t,D)}a&&I();var o=n.slice(D,D+4);if("true"==o)return D+=4,!0;if("fals"==o&&101==n.charCodeAt(D+4))return D+=5,!1;if("null"==o)return D+=4,null;I()}return"$"},H=function(e){var t,r;if("$"==e&&I(),"string"==typeof e){if("@"==(y?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=E());)r?","==e?"]"==(e=E())&&I():I():r=!0,","==e&&I(),t.push(H(e));return t}if("{"==e){for(t={};"}"!=(e=E());)r?","==e?"}"==(e=E())&&I():I():r=!0,","!=e&&"string"==typeof e&&"@"==(y?e.charAt(0):e[0])&&":"==E()||I(),t[e.slice(1)]=H(E());return t}I()}return e},J=function(e,t,r){var a=U(e,t,r);void 0===a?delete e[t]:e[t]=a},U=function(e,t,r){var a,i=e[t];if("object"==typeof i&&i)if("[object Array]"==f.call(i))for(a=i.length;a--;)J(f,w,i);else w(i,(function(e){J(i,e,r)}));return r.call(e,t,i)};i.parse=function(e,t){var r,a;return D=0,O=""+e,r=H(E()),"$"!=E()&&I(),D=O=null,t&&"[object Function]"==f.call(t)?U(((a={})[""]=r,a),"",t):r}}}return i.runInContext=r,i}(t,t.JSON3={noConflict:function(){return i||(i=!0,t.JSON=r,t.JSON3=a,r=a=null),n}});t.JSON={parse:n.parse,stringify:n.stringify}}).call(window),function(e){if(e.atob)try{e.atob(" ")}catch(t){e.atob=function(e){var t=function(t){return e(String(t).replace(/[\t\n\f\r ]+/g,""))};return t.original=e,t}(e.atob)}else{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;e.btoa=function(e){for(var r,a,i,n,s="",o=0,c=(e=String(e)).length%3;o<e.length;){if((a=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255||(n=e.charCodeAt(o++))>255)return"";s+=t.charAt((r=a<<16|i<<8|n)>>18&63)+t.charAt(r>>12&63)+t.charAt(r>>6&63)+t.charAt(63&r)}return c?s.slice(0,c-3)+"===".substring(c):s},e.atob=function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!r.test(e))return"";e+="==".slice(2-(3&e.length));for(var a,i,n,s="",o=0;o<e.length;)a=t.indexOf(e.charAt(o++))<<18|t.indexOf(e.charAt(o++))<<12|(i=t.indexOf(e.charAt(o++)))<<6|(n=t.indexOf(e.charAt(o++))),s+=64===i?String.fromCharCode(a>>16&255):64===n?String.fromCharCode(a>>16&255,a>>8&255):String.fromCharCode(a>>16&255,a>>8&255,255&a);return s}}}(window),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return"[object regexp]"===Object.prototype.toString.call(e).toLowerCase()?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var i,n=Array.prototype,s=n.forEach,c=n.slice,l=Array.isArray,u=Object.prototype,p=u.toString,d=u.hasOwnProperty,_={},f=l||function(e){return"[object Array]"===p.call(e)},g=(i=(new Date).getTime(),function(e){return Math.ceil((i=(9301*i+49297)%233280)/233280*e)}),h=Date.now||function(){return(new Date).getTime()};function v(e,t,r){if(null==e)return!1;if(s&&e.forEach===s)e.forEach(t,r);else if(f(e)&&e.length===+e.length){for(var a=0,i=e.length;a<i;a++)if(a in e&&t.call(r,e[a],a,e)===_)return!1}else for(var n in e)if(d.call(e,n)&&t.call(r,e[n],n,e)===_)return!1}function y(e,t){var r=[];return null==e?r:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(v(e,(function(e,a,i){r.push(t(e,a,i))})),r)}function w(e){return v(c.call(arguments,1),(function(t){for(var r in t)d.call(t,r)&&void 0!==t[r]&&(e[r]=t[r])})),e}function S(e){return v(c.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&void 0===e[r]&&(e[r]=t[r])})),e}function b(e){if(!e)return!1;var t=p.call(e);return"[object Function]"==t||"[object AsyncFunction]"==t}function k(e){return!(!e||!d.call(e,"callee"))}function P(e){var t=[];return null==e||v(e,(function(e){t[t.length]=e})),t}function N(e,t){var r=e.indexOf;if(r)return r.call(e,t);for(var a=0;a<e.length;a++)if(t===e[a])return a;return-1}function C(e,t,r){var a=Object.prototype.hasOwnProperty;if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)if(a.call(e,n)){var s=e[n];t.call(r,s,n,e)&&i.push(s)}return i}function j(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function A(e){return null!=e&&"[object Object]"==p.call(e)}function $(e){if(A(e)){for(var t in e)if(d.call(e,t))return!1;return!0}return!1}function D(e){return void 0===e}function O(e){return"[object String]"==p.call(e)}function T(e){return"[object Date]"==p.call(e)}function x(e){return"[object Boolean]"==p.call(e)}function I(e){return"[object Number]"==p.call(e)&&/[\d\.]+/.test(String(e))}function E(e){return!(!e||1!==e.nodeType)}function H(e){try{JSON.parse(e)}catch(e){return!1}return!0}function J(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t}function U(e){if("string"!=typeof e)return 0;var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function B(){if("function"==typeof Uint32Array){var e="";if("undefined"!=typeof crypto?e=crypto:"undefined"!=typeof msCrypto&&(e=msCrypto),A(e)&&e.getRandomValues){var t=new Uint32Array(1);return e.getRandomValues(t)[0]/Math.pow(2,32)}}return g(1e19)/1e19}function L(e){try{return JSON.stringify(e,null,"  ")}catch(t){return JSON.stringify(e)}}function R(e){for(var t,r=[],a={},i=0;i<e.length;i++)(t=e[i])in a||(a[t]=!0,r.push(t));return r}function M(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}function q(e){var t=y(atob(e).split(""),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}));return decodeURIComponent(t.join(""))}function K(e,t){t="number"==typeof t?t:13;for(var r=(e=String(e)).split(""),a=0,i=r.length;a<i;a++){r[a].charCodeAt(0)<126&&(r[a]=String.fromCharCode((r[a].charCodeAt(0)+t)%126))}return r.join("")}function F(e){return K(e=String(e),113)}var V={},z={preset_properties:{search_keyword_baidu:!1,latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,latest_wx_ad_click_id:void 0,url:!0,title:!0},encrypt_cookie:!1,img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,cross_subdomain:!0,show_log:!1,is_debug:!1,debug_mode:!1,debug_mode_upload:!1,source_channel:[],sdk_id:"",send_type:"image",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:8e3,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1};function W(){var e=!0,t="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem("__sensorsdatasupport__",t),sessionStorage.removeItem("__sensorsdatasupport__",t),e=!0):e=!1}catch(t){e=!1}return e}function X(){if((W()&&"true"===sessionStorage.getItem("sensorsdata_jssdk_debug")||V.show_log)&&(!A(arguments[0])||!0!==V.show_log&&"string"!==V.show_log&&!1!==V.show_log||(arguments[0]=L(arguments[0])),"object"==typeof console&&console.log))try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}}function Z(e,t){if("string"==typeof t)return Q(e,t);if(f(t)){for(var r=!1,a=0;a<t.length;a++){if(Q(e,t[a])){r=!0;break}}return r}}function Q(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0}function Y(e,t){var r="",a="";return e.textContent?r=j(e.textContent):e.innerText&&(r=j(e.innerText)),r&&(r=r.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),a=r||"","input"!==t&&"INPUT"!==t||("button"===e.type||"submit"===e.type||V.heatmap&&"function"==typeof V.heatmap.collect_input&&V.heatmap.collect_input(e))&&(a=e.value||""),a}function G(e){e=w({success:function(){},error:function(){},appendCall:function(e){document.getElementsByTagName("head")[0].appendChild(e)}},e);var t=null;"css"===e.type&&((t=document.createElement("link")).rel="stylesheet",t.href=e.url),"js"===e.type&&((t=document.createElement("script")).async="async",t.setAttribute("charset","UTF-8"),t.src=e.url,t.type="text/javascript"),t.onload=t.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e.success(),t.onload=t.onreadystatechange=null)},t.onerror=function(){e.error(),t.onerror=null},e.appendCall(t)}function ee(e){return new ee.init(e)}function te(e){if(!O(e))return null;var t,r=e.split(">");return(t=function e(t){var a,i=r.shift();if(!i)return t;try{a=function(e,t){var r;if("body"===(e=j(e)))return document.getElementsByTagName("body")[0];if(0===e.indexOf("#"))e=e.slice(1),r=document.getElementById(e);else if(e.indexOf(":nth-of-type")>-1){var a=e.split(":nth-of-type");if(!a[0]||!a[1])return null;var i=a[0],n=a[1].match(/\(([0-9]+)\)/);if(!n||!n[1])return null;var s=Number(n[1]);if(!(E(t)&&t.children&&t.children.length>0))return null;for(var o=t.children,c=0;c<o.length;c++){if(E(o[c]))if(o[c].tagName.toLowerCase()===i&&0===--s){r=o[c];break}}if(s>0)return null}return r||null}(i,t)}catch(e){X(e)}return a&&E(a)?e(a):null}())&&E(t)?t:null}ee.init=function(e){this.ele=e},ee.init.prototype={addClass:function(e){return-1===(" "+this.ele.className+" ").indexOf(" "+e+" ")&&(this.ele.className=this.ele.className+(""===this.ele.className?"":" ")+e),this},removeClass:function(e){var t=" "+this.ele.className+" ";return-1!==t.indexOf(" "+e+" ")&&(this.ele.className=t.replace(" "+e+" "," ").slice(1,-1)),this},hasClass:function(e){return-1!==(" "+this.ele.className+" ").indexOf(" "+e+" ")},attr:function(e,t){return"string"==typeof e&&D(t)?this.ele.getAttribute(e):("string"==typeof e&&(t=String(t),this.ele.setAttribute(e,t)),this)},offset:function(){var e=this.ele.getBoundingClientRect();if(e.width||e.height){var t=this.ele.ownerDocument.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var e=this.ele.getBoundingClientRect();return{width:e.width,height:e.height}}catch(e){return{width:0,height:0}}},getStyle:function(e){return this.ele.currentStyle?this.ele.currentStyle[e]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(e)},wrap:function(e){var t=document.createElement(e);return this.ele.parentNode.insertBefore(t,this.ele),t.appendChild(this.ele),ee(t)},getCssStyle:function(e){var t=this.ele.style.getPropertyValue(e);if(t)return t;var r=null;if("function"==typeof window.getMatchedCSSRules&&(r=window.getMatchedCSSRules(this.ele)),!r||!f(r))return null;for(var a=r.length-1;a>=0;a--){if(t=r[a].style.getPropertyValue(e))return t}},sibling:function(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(){return this.sibling(this.ele,"previousSibling")},siblings:function(){return this.siblings((this.ele.parentNode||{}).firstChild,this.ele)},children:function(){return this.siblings(this.ele.firstChild)},parent:function(){var e=this.ele.parentNode;return ee(e=e&&11!==e.nodeType?e:null)},previousElementSibling:function(){var e=this.ele;if("previousElementSibling"in document.documentElement)return ee(e.previousElementSibling);for(;e=e.previousSibling;)if(1===e.nodeType)return ee(e);return ee(null)},getSameTypeSiblings:function(){for(var e=this.ele,t=e.parentNode,r=e.tagName.toLowerCase(),a=[],i=0;i<t.children.length;i++){var n=t.children[i];1===n.nodeType&&n.tagName.toLowerCase()===r&&a.push(t.children[i])}return a},getParents:function(){try{var e=this.ele;if(!E(e))return[];var t=[e];if(null===e||null===e.parentElement)return[];for(;null!==e.parentElement;)e=e.parentElement,t.push(e);return t}catch(e){return[]}}};var re,ae,ie={isHttpUrl:function(e){if("string"!=typeof e)return!1;return!1!==/^https?:\/\/.+/.test(e)||(X("Invalid URL"),!1)},removeScriptProtocol:function(e){if("string"!=typeof e)return"";for(var t=/^\s*javascript/i;t.test(e);)e=e.replace(t,"");return e}},ne=(re={"+":"-","/":"_","=":"."},ae={"-":"+",_:"/",".":"="},{encode:function(e){return e.replace(/[+/=]/g,(function(e){return re[e]}))},decode:function(e){return e.replace(/[-_.]/g,(function(e){return ae[e]}))},trim:function(e){return e.replace(/[.=]{1,2}$/,"")},isBase64:function(e){return/^[A-Za-z0-9+/]*[=]{0,2}$/.test(e)},isUrlSafeBase64:function(e){return/^[A-Za-z0-9_-]*[.]{0,2}$/.test(e)}});function se(e){var t=e;try{t=decodeURIComponent(e)}catch(r){t=e}return t}function oe(e){var t=e;try{t=decodeURI(e)}catch(r){t=e}return t}function ce(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=decodeURIComponent(e);var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":decodeURIComponent(r[1])}function le(e){var t=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return t.prototype.setUrl=function(e){this._parse(e)},t.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},t.prototype.addQueryString=function(e){if("object"!=typeof e)return!1;var t=this._values.QueryString||"";for(var r in e)t=new RegExp(r+"[^&]+").test(t)?t.replace(new RegExp(r+"[^&]+"),r+"="+e[r]):"&"===t.slice(-1)?t+r+"="+e[r]:""===t?r+"="+e[r]:t+"&"+r+"="+e[r];this._values.QueryString=t},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",e+=this._values.Path,e+=this._values.QueryString?"?"+this._values.QueryString:"",e+=this._values.Fragment?"#"+this._values.Fragment:""},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",e+=this._values.Path,e+=this._values.QueryString?"?"+this._values.QueryString:""},t.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);for(var r in t||X("DPURLParser::_parse -> Invalid URL"),this._fields)void 0!==t[this._fields[r]]&&(this._values[r]=t[this._fields[r]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname},new t(e)}function ue(e){for(var t=function(e){return decodeURIComponent(e)},r={},a=(e=e||"").substring(1).split("&"),i=0;i<a.length;i++){var n=a[i].indexOf("=");if(-1!==n){var s=a[i].substring(0,n),o=a[i].substring(n+1);s=t(s),o=t(o),r[s]=o}}return r}function pe(e){var t,r={};if("function"==typeof window.URL&&function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(e){return!1}}())(r=new URL(e)).searchParams||(r.searchParams=(t=ue(r.search),{get:function(e){return t[e]}}));else{!1===/^https?:\/\/.+/.test(e)&&X("Invalid URL");var a=le(e);r.hash="",r.host=a._values.Host?a._values.Host+(a._values.Port?":"+a._values.Port:""):"",r.href=a._values.URL,r.password=a._values.Password,r.pathname=a._values.Path,r.port=a._values.Port,r.search=a._values.QueryString?"?"+a._values.QueryString:"",r.username=a._values.Username,r.hostname=a._values.Hostname,r.protocol=a._values.Protocol?a._values.Protocol+":":"",r.origin=a._values.Origin?a._values.Origin+(a._values.Port?":"+a._values.Port:""):"",r.searchParams=function(){var e=ue("?"+a._values.QueryString);return{get:function(t){return e[t]}}}()}return r}function de(e,t){t&&"string"==typeof t||(t="hostname解析异常");var r=null;try{r=pe(e).hostname}catch(e){X("getHostname传入的url参数不合法！")}return r||t}function _e(e){var t={},r=e.split("?")[1]||"";return r&&(t=ue("?"+r)),t}function fe(e){return O(e)?oe(e):oe(location.href)}function ge(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+t(e.getMilliseconds())}function he(e){A(e)&&v(e,(function(t,r){A(t)?he(e[r]):T(t)&&(e[r]=ge(t))}))}var me={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(e){},apph5:function(e){var t="app_h5打通失败-",r={1:t+"use_app_track为false",2:t+"Android或者iOS，没有暴露相应方法",3.1:t+"Android校验server_url失败",3.2:t+"iOS校验server_url失败",4.1:t+"H5 校验 iOS server_url 失败",4.2:t+"H5 校验 Android server_url 失败"},a=e.output,i=e.step,n=e.data||"";"all"!==a&&"console"!==a||X(r[i]),("all"===a||"code"===a)&&A(V.is_debug)&&V.is_debug.apph5&&(n.type&&"profile"===n.type.slice(0,7)||(n.properties._jssdk_debug_info="apph5-"+String(i)))},defineMode:function(e){var t={1:{title:"当前页面无法进行可视化全埋点",message:"App SDK 与 Web JS SDK 没有进行打通，请联系贵方技术人员修正 App SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},2:{title:"当前页面无法进行可视化全埋点",message:"App SDK 与 Web JS SDK 没有进行打通，请联系贵方技术人员修正 Web JS SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},3:{title:"当前页面无法进行可视化全埋点",message:"Web JS SDK 没有开启全埋点配置，请联系贵方工作人员修正 SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_web_all-1573964.html"},4:{title:"当前页面无法进行可视化全埋点",message:"Web JS SDK 配置的数据校验地址与 App SDK 配置的数据校验地址不一致，请联系贵方工作人员修正 SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"}};return!(!e||!t[e])&&t[e]},protocol:{protocolIsSame:function(e,t){try{if(pe(e).protocol!==pe(t).protocol)return!1}catch(e){return X("不支持 _.URL 方法"),!1}return!0},serverUrl:function(){O(V.server_url)&&""!==V.server_url&&!this.protocolIsSame(V.server_url,location.href)&&X("SDK 检测到您的数据发送地址和当前页面地址的协议不一致，建议您修改成一致的协议。\n因为：1、https 下面发送 http 的图片请求会失败。2、http 页面使用 https + ajax 方式发数据，在 ie9 及以下会丢失数据。")},ajax:function(e){if(e===V.server_url)return!1;O(e)&&""!==e&&!this.protocolIsSame(e,location.href)&&X("SDK 检测到您的数据发送地址和当前页面地址的协议不一致，建议您修改成一致的协议。因为 http 页面使用 https + ajax 方式发数据，在 ie9 及以下会丢失数据。")}}},ve="utm_source utm_medium utm_campaign utm_content utm_term";function ye(e){void 0!==e.properties.$project&&(e.project=e.properties.$project,delete e.properties.$project),void 0!==e.properties.$token&&(e.token=e.properties.$token,delete e.properties.$token)}function we(e,t){return I(t)&&e.length>t?(X("字符串长度超过限制，已经做截取--"+e),e.slice(0,t)):e}function Se(e){var t=["$element_selector","$element_path"],r=["sensorsdata_app_visual_properties"];A(e)&&v(e,(function(a,i){if(A(a))Se(e[i]);else if(O(a)){if(N(r,i)>-1)return;e[i]=we(a,N(t,i)>-1?1024:V.max_string_length)}}))}function be(e){return A(e)?(v(e,(function(t,r){if(f(t)){var a=[];v(t,(function(e){O(e)?a.push(e):X("您的数据-",r,t,"的数组里的值必须是字符串,已经将其删除")})),e[r]=a}O(t)||I(t)||T(t)||x(t)||f(t)||b(t)||"$option"===r||(X("您的数据-",r,t,"-格式不满足要求，我们已经将其删除"),delete e[r])})),e):e}function ke(e){var t=e.properties,r=JSON.parse(JSON.stringify(e));A(t)&&(v(t,(function(e,a){if(b(e))try{t[a]=e(r),b(t[a])&&(X("您的属性- "+a+" 格式不满足要求，我们已经将其删除"),delete t[a])}catch(e){delete t[a],X("您的属性- "+a+" 抛出了异常，我们已经将其删除")}})),be(t))}function Pe(e){A(e)&&v(["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"],(function(t,r){t in e&&(r<3?(delete e[t],X("您的属性- "+t+"是保留字段，我们已经将其删除")):X("您的属性- "+t+"是保留字段，请避免其作为属性名"))}))}function Ne(e){if("object"==typeof e&&e.$option){var t=e.$option;return delete e.$option,t}return{}}function Ce(e){var t={};return v(e,(function(e,r){null!=e&&(t[r]=e)})),t}var je,Ae=(je=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)},function(){var e=String(screen.height*screen.width);e=e&&/\d{5,}/.test(e)?e.toString(16):String(31242*B()).replace(".","").slice(0,8);var t=je()+"-"+B().toString(16).replace(".","")+"-"+function(){var e,t,r=navigator.userAgent,a=[],i=0;function n(e,t){var r,i=0;for(r=0;r<t.length;r++)i|=a[r]<<8*r;return e^i}for(e=0;e<r.length;e++)t=r.charCodeAt(e),a.unshift(255&t),a.length>=4&&(i=n(i,a),a=[]);return a.length>0&&(i=n(i,a)),i.toString(16)}()+"-"+e+"-"+je();return t||(String(B())+String(B())+String(B())).slice(2,15)});function $e(e){var t=V.current_domain;switch(typeof t){case"function":var r=t();return""===r||""===j(r)?"url解析失败":-1!==r.indexOf(".")?r:"url解析失败";case"string":return""===t||""===j(t)?"url解析失败":-1!==t.indexOf(".")?t:"url解析失败";default:var a=Ee();return""===e||""===a?"url解析失败":a}}function De(e){if(!e.target)return!1;var t=e.target,r=t.tagName.toLowerCase(),a={};return a.$element_type=r,a.$element_name=t.getAttribute("name"),a.$element_id=t.getAttribute("id"),a.$element_class_name="string"==typeof t.className?t.className:null,a.$element_target_url=t.getAttribute("href"),a.$element_content=Y(t,r),(a=Ce(a)).$url=fe(),a.$url_path=location.pathname,a.$title=document.title,a.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,a}function Oe(){var e=document.referrer;if(!e)return!1;try{var t=pe(e).hostname;return t&&"baidu.com"===t.substring(t.length-"baidu.com".length)}catch(e){return!1}}function Te(){var e=_e(document.referrer);return $(e)||!e.eqid?Ae().replace(/-/g,""):e.eqid}function xe(){var e=_e(document.referrer);return $(e)||!e.eqid?"baidu_sem_keyword_id":"baidu_seo_keyword_id"}var Ie={data:{},id:function(){return this.data.id||(this.data.id=Te()),this.data.id},type:function(){return this.data.type||(this.data.type=xe()),this.data.type}};function Ee(e){e=e||location.hostname;var t=e||!1;if(!t)return"";var r=t.split(".");if(f(r)&&r.length>=2&&!/^(\d+\.)+\d+$/.test(t))for(var a="."+r.splice(r.length-1,1);r.length>0;)if(a="."+r.splice(r.length-1,1)+a,document.cookie="sensorsdata_domain_test=true; path=/; domain="+a,-1!==document.cookie.indexOf("sensorsdata_domain_test=true")){var i=new Date;return i.setTime(i.getTime()-1e3),document.cookie="sensorsdata_domain_test=true; expires="+i.toGMTString()+"; path=/; domain="+a,a}return""}function He(e){return""===(e=e||document.referrer)||Ee(de(e))!==Ee()}function Je(e){return"string"!=typeof(e=e||document.referrer)?"取值异常_referrer异常_"+String(e):(0===(e=decodeURI(e)).indexOf("https://www.baidu.com/")&&(e=e.split("?")[0]),"string"==typeof(e=e.slice(0,V.max_referrer_string_length))?e:"")}function Ue(e){var t=de(e);if(!t||"hostname解析异常"===t)return"";var r={baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]};for(var a in r)for(var i=r[a],n=0,s=i.length;n<s;n++)if(i[n].test(t))return a;return"未知搜索引擎"}function Be(e,t){e=e||document.referrer;var r=V.source_type.keyword;if(document&&"string"==typeof e){if(0===e.indexOf("http")){var a=Ue(e),i=_e(e);if($(i))return V.preset_properties.search_keyword_baidu&&Oe()?void 0:"未取到值";var n=null;for(var s in r)if(a===s&&"object"==typeof i)if(n=r[s],f(n))for(s=0;s<n.length;s++){var o=i[n[s]];if(o)return t?{active:o}:o}else if(i[n])return t?{active:i[n]}:i[n];return V.preset_properties.search_keyword_baidu&&Oe()?void 0:"未取到值"}return""===e?"未取到值_直接打开":"未取到值_非http的url"}return"取值异常_referrer异常_"+String(e)}function Le(e){var t=ce(e,"gdt_vid"),r=ce(e,"hash_key"),a=ce(e,"callbacks"),i={click_id:"",hash_key:"",callbacks:""};return O(t)&&t.length&&(i.click_id=16==t.length||18==t.length?t:"参数解析不合法",O(r)&&r.length&&(i.hash_key=r),O(a)&&a.length&&(i.callbacks=a)),i}var Re={initPage:function(){var e=Je(),t=fe(),r=$e(t);r||me.jssdkDebug("url_domain异常_"+t+"_"+r),this.pageProp={referrer:e,referrer_host:e?de(e):"",url:t,url_host:de(t,"url_host取值异常"),url_domain:r}},pageProp:{},campaignParams:function(){var e=ve.split(" "),t="",r={};return f(V.source_channel)&&V.source_channel.length>0&&(e=R(e=e.concat(V.source_channel))),v(e,(function(e){(t=ce(location.href,e)).length&&(r[e]=t)})),r},campaignParamsStandard:function(e,t){e=e||"",t=t||"";var r=Re.campaignParams(),a={},i={};return v(r,(function(r,n,s){-1!==(" "+ve+" ").indexOf(" "+n+" ")?a[e+n]=s[n]:i[t+n]=s[n]})),{$utms:a,otherUtms:i}},properties:function(){return{$timezone_offset:(new Date).getTimezoneOffset(),$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$lib:"js",$lib_version:"1.19.10"}},currentProps:{},register:function(e){w(Re.currentProps,e)}};function Me(){function e(e,t){for(var r=0;r<e.length;r++)if(-1!==t.split("?")[0].indexOf(e[r]))return!0}var t="("+V.source_type.utm.join("|")+")\\=[^&]+",r=V.source_type.search,a=V.source_type.social,i=document.referrer||"",n=Re.pageProp.url;if(n){var s=n.match(new RegExp(t));return s&&s[0]?"付费广告流量":e(r,i)?"自然搜索流量":e(a,i)?"社交网站流量":""===i?"直接流量":"引荐流量"}return"获取url异常"}function qe(){return{items:[],enqueue:function(e){this.items.push(e),this.start()},dequeue:function(){return this.items.shift()},getCurrentItem:function(){return this.items[0]},isRun:!1,start:function(){this.items.length>0&&!this.isRun&&(this.isRun=!0,this.getCurrentItem().start())},close:function(){this.dequeue(),this.isRun=!1,this.start()}}}function Ke(){return void 0!==window.matchMedia||void 0!==window.msMatchMedia}var Fe={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),a=0;a<r.length;a++){for(var i=r[a];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return se(i.substring(t.length,i.length))}return null},set:function(e,t,r,a){var i="",n="",s="",o="";if(r=null==r?73e3:r,a=void 0===a?V.cross_subdomain:a){var c=$e(location.href);"url解析失败"===c&&(c=""),i=c?"; domain="+c:""}if(0!==r){var l=new Date;"s"===String(r).slice(-1)?l.setTime(l.getTime()+1e3*Number(String(r).slice(0,-1))):l.setTime(l.getTime()+24*r*60*60*1e3),n="; expires="+l.toGMTString()}function u(e){return!!e&&e.replaceAll(/\r\n/g,"")}O(V.set_cookie_samesite)&&""!==V.set_cookie_samesite&&(o="; SameSite="+V.set_cookie_samesite),V.is_secure_cookie&&(s="; secure");var p="",d="",_="";e&&(p=u(e)),t&&(d=u(t)),i&&(_=u(i)),p&&d&&(document.cookie=p+"="+encodeURIComponent(d)+n+"; path=/"+_+o+s)},encrypt:function(e){return"data:enc;"+K(e)},decrypt:function(e){return e=F(e=e.substring("data:enc;".length))},resolveValue:function(e){return O(e)&&0===e.indexOf("data:enc;")&&(e=Fe.decrypt(e)),e},remove:function(e,t){t=void 0===t?V.cross_subdomain:t,Fe.set(e,"",-1,t)},getCookieName:function(e,t){var r="";if(t=t||location.href,!1===V.cross_subdomain){try{r=pe(t).hostname}catch(e){X(e)}r="string"==typeof r&&""!==r?"sajssdk_2015_"+V.sdk_id+e+"_"+r.replace(/\./g,"_"):"sajssdk_2015_root_"+V.sdk_id+e}else r="sajssdk_2015_cross_"+V.sdk_id+e;return r},getNewUser:function(){return null!==this.get("sensorsdata_is_new_user")||null!==this.get(this.getCookieName("new_user"))}},Ve={get:function(e){return window.localStorage.getItem(e)},parse:function(e){var t;try{t=JSON.parse(Ve.get(e))||null}catch(e){X(e)}return t},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)},isSupport:function(){var e=!0;try{var t="__sensorsdatasupport__",r="testIsSupportStorage";Ve.set(t,r),Ve.get(t)!==r&&(e=!1),Ve.remove(t)}catch(t){e=!1}return e}},ze={isSupport:function(){var e=!0,t="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem("__sensorsdatasupport__",t),sessionStorage.removeItem("__sensorsdatasupport__",t),e=!0):e=!1}catch(t){e=!1}return e}};function We(){return void 0!==window.XMLHttpRequest&&("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest)}function Xe(){var e,t={},r=navigator.userAgent.toLowerCase();return(e=r.match(/opera.([\d.]+)/))?t.opera=Number(e[1].split(".")[0]):(e=r.match(/msie ([\d.]+)/))?t.ie=Number(e[1].split(".")[0]):(e=r.match(/edge.([\d.]+)/))?t.edge=Number(e[1].split(".")[0]):(e=r.match(/firefox\/([\d.]+)/))?t.firefox=Number(e[1].split(".")[0]):(e=r.match(/chrome\/([\d.]+)/))?t.chrome=Number(e[1].split(".")[0]):(e=r.match(/version\/([\d.]+).*safari/))?t.safari=Number(e[1].match(/^\d*.\d*/)):(e=r.match(/trident\/([\d.]+)/))&&(t.ie=11),t}function Ze(){var e=!1;if("object"!=typeof navigator||"function"!=typeof navigator.sendBeacon)return e;var t=Xe(),r=navigator.userAgent.toLowerCase();if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)){var a=(r.match(/os [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".").split(".");void 0===t.safari&&(t.safari=a[0]),a[0]&&a[0]<13?(t.chrome>41||t.firefox>30||t.opera>25||t.safari>12)&&(e=!0):(t.chrome>41||t.firefox>30||t.opera>25||t.safari>11.3)&&(e=!0)}else(t.chrome>38||t.edge>13||t.firefox>30||t.opera>25||t.safari>11)&&(e=!0);return e}function Qe(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation,t._getPath=e._getPath),t}e._getPath=function(){return this.path||this.composedPath&&this.composedPath()||ee(this.target).getParents()},e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0};var t=function(t,a,i){var n=!(!A(V.heatmap)||!V.heatmap.useCapture);if(A(V.heatmap)&&void 0===V.heatmap.useCapture&&"click"===a&&(n=!0),t&&t.addEventListener)t.addEventListener(a,(function(t){t._getPath=e._getPath,i.call(this,t)}),n);else{var s="on"+a,o=t[s];t[s]=r(t,i,o,a)}};function r(t,r,a,i){return function(n){if(n=n||e(window.event)){n.target=n.srcElement;var s,o,c=!0;return"function"==typeof a&&(s=a(n)),o=r.call(t,n),"beforeunload"!==i?(!1!==s&&!1!==o||(c=!1),c):void 0}}}t.apply(null,arguments)}function Ye(e){var t="pushState"in window.history?"popstate":"hashchange";Qe(window,t,e)}function Ge(e){var t,r=location.href,a=window.history.pushState,i=window.history.replaceState;b(window.history.pushState)&&(window.history.pushState=function(){a.apply(window.history,arguments),e(r),r=location.href}),b(window.history.replaceState)&&(window.history.replaceState=function(){i.apply(window.history,arguments),e(r),r=location.href}),t=window.document.documentMode?"hashchange":a?"popstate":"hashchange",Qe(window,t,(function(){e(r),r=location.href}))}function et(e){({visibleHandler:b(e.visible)?e.visible:function(){},hiddenHandler:b(e.hidden)?e.hidden:function(){},visibilityChange:null,hidden:null,isSupport:function(){return void 0!==document[this.hidden]},init:function(){void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.listen()},listen:function(){if(this.isSupport()){var e=this;Qe(document,this.visibilityChange,(function(){document[e.hidden]?e.hiddenHandler():e.visibleHandler()}),1)}else Qe(window,"focus",this.visibleHandler),Qe(window,"blur",this.hiddenHandler)}}).init()}function tt(e){if(e)return void 0!==window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:null;if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){X(e)}}}function rt(e){function t(e){if(!e)return"";try{return JSON.parse(e)}catch(e){return{}}}e.timeout=e.timeout||2e4,e.credentials=void 0===e.credentials||e.credentials;var r=tt(e.cors);if(!r)return!1;e.type||(e.type=e.data?"POST":"GET"),e=w({success:function(){},error:function(){}},e),me.protocol.ajax(e.url);var a,i=e.success,n=e.error;e.success=function(e){i(e),a&&(clearTimeout(a),a=null)},e.error=function(e){n(e),a&&(clearTimeout(a),a=null)},a=setTimeout((function(){!function(){try{A(r)&&r.abort&&r.abort()}catch(e){X(e)}a&&(clearTimeout(a),a=null,e.error&&e.error(),r.onreadystatechange=null,r.onload=null,r.onerror=null)}()}),e.timeout),"undefined"!=typeof XDomainRequest&&r instanceof XDomainRequest&&(r.onload=function(){e.success&&e.success(t(r.responseText)),r.onreadystatechange=null,r.onload=null,r.onerror=null},r.onerror=function(){e.error&&e.error(t(r.responseText),r.status),r.onreadystatechange=null,r.onerror=null,r.onload=null}),r.onreadystatechange=function(){try{4==r.readyState&&(r.status>=200&&r.status<300||304==r.status?e.success(t(r.responseText)):e.error(t(r.responseText),r.status),r.onreadystatechange=null,r.onload=null)}catch(e){r.onreadystatechange=null,r.onload=null}},r.open(e.type,e.url,!0);try{e.credentials&&(r.withCredentials=!0),A(e.header)&&v(e.header,(function(e,t){r.setRequestHeader&&r.setRequestHeader(t,e)})),e.data&&(e.cors||r.setRequestHeader&&r.setRequestHeader("X-Requested-With","XMLHttpRequest"),"application/json"===e.contentType?r.setRequestHeader&&r.setRequestHeader("Content-type","application/json; charset=UTF-8"):r.setRequestHeader&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(e){X(e)}r.send(e.data||null)}function at(e){if(!A(e)||!O(e.callbackName))return X("JSONP 请求缺少 callbackName"),!1;e.success=b(e.success)?e.success:function(){},e.error=b(e.error)?e.error:function(){},e.data=e.data||"";var t=document.createElement("script"),r=document.getElementsByTagName("head")[0],a=null,i=!1;if(r.appendChild(t),I(e.timeout)&&(a=setTimeout((function(){if(i)return!1;e.error("timeout"),window[e.callbackName]=function(){X("call jsonp error")},a=null,r.removeChild(t),i=!0}),e.timeout)),window[e.callbackName]=function(){clearTimeout(a),a=null,e.success.apply(null,arguments),window[e.callbackName]=function(){X("call jsonp error")},r.removeChild(t)},e.url.indexOf("?")>-1?e.url+="&callbackName="+e.callbackName:e.url+="?callbackName="+e.callbackName,A(e.data)){var n=[];v(e.data,(function(e,t){n.push(t+"="+e)})),e.data=n.join("&"),e.url+="&"+e.data}t.onerror=function(n){if(i)return!1;window[e.callbackName]=function(){X("call jsonp error")},clearTimeout(a),a=null,r.removeChild(t),e.error(n),i=!0},t.src=e.url}var it=function(){this._events=[],this.pendingEvents=[]};it.prototype={emit:function(e){var t=[].slice.call(arguments,1);v(this._events,(function(r){r.type===e&&r.callback.apply(r.context,t)})),this.pendingEvents.push({type:e,data:t}),this.pendingEvents.length>20&&this.pendingEvents.shift()},on:function(e,t,r,a){"function"==typeof t&&(this._events.push({type:e,callback:t,context:r||this}),a=!1!==a,this.pendingEvents.length>0&&a&&v(this.pendingEvents,(function(a){a.type===e&&t.apply(r,a.data)})))},tempAdd:function(e,t){if(t&&e)return this.emit(e,t)},isReady:function(){}};var nt={__proto__:null,each:v,map:y,extend:w,extend2Lev:function(e){return v(c.call(arguments,1),(function(t){for(var r in t)void 0!==t[r]&&(A(t[r])&&A(e[r])?w(e[r],t[r]):e[r]=t[r])})),e},coverExtend:S,isArray:f,isFunction:b,isArguments:k,toArray:function(e){return e?e.toArray?e.toArray():f(e)||k(e)?c.call(e):P(e):[]},values:P,indexOf:N,filter:C,inherit:function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},trim:j,isObject:A,isEmptyObject:$,isUndefined:D,isString:O,isDate:T,isBoolean:x,isNumber:I,isElement:E,isJSONString:H,safeJSONParse:J,throttle:function(e,t,r){var a,i,n,s=null,o=0;r||(r={});var c=function(){o=!1===r.leading?0:h(),s=null,n=e.apply(a,i),s||(a=i=null)};return function(){var l=h();o||!1!==r.leading||(o=l);var u=t-(l-o);return a=this,i=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),o=l,n=e.apply(a,i),s||(a=i=null)):s||!1===r.trailing||(s=setTimeout(c,u)),n}},hashCode:U,getRandomBasic:g,getRandom:B,formatJsonString:L,unique:R,base64Decode:q,base64Encode:M,now:h,rot13obfs:K,rot13defs:F,strToUnicode:function(e,t){if("string"!=typeof e)return t("转换unicode错误",e),e;for(var r="",a=0;a<e.length;a++)r+="\\"+e.charCodeAt(a).toString(16);return r},hasAttributes:Z,hasAttribute:Q,getElementContent:Y,loadScript:G,ry:ee,setCssStyle:function(e){var t=document.createElement("style");t.type="text/css";try{t.appendChild(document.createTextNode(e))}catch(r){t.styleSheet.cssText=e}var r=document.getElementsByTagName("head")[0],a=document.getElementsByTagName("script")[0];r?r.children.length?r.insertBefore(t,r.children[0]):r.appendChild(t):a.parentNode.insertBefore(t,a)},getDomBySelector:te,decodeURIComponent:se,decodeURI:oe,getQueryParam:ce,urlParse:le,getURLSearchParams:ue,URL:pe,getHostname:de,getQueryParamsFromUrl:_e,urlSafeBase64:ne,secCheck:ie,getURL:fe,encodeDates:function e(t){return v(t,(function(r,a){T(r)?t[a]=ge(r):A(r)&&(t[a]=e(r))})),t},formatDate:ge,searchObjDate:he,mediaQueriesSupported:Ke,getScreenOrientation:function(){var e=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,t="未取到值";if(e)t=e.indexOf("landscape")>-1?"landscape":"portrait";else if(Ke()){var r=window.matchMedia||window.msMatchMedia;r("(orientation: landscape)").matches?t="landscape":r("(orientation: portrait)").matches&&(t="portrait")}return t},cookie:Fe,localStorage:Ve,sessionStorage:ze,isSupportCors:We,isIOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)},getUA:Xe,getIOSVersion:function(){try{var e=navigator.appVersion.match(/OS (\d+)[._](\d+)[._]?(\d+)?/);return e&&e[1]?Number.parseInt(e[1],10):""}catch(e){return""}},isSupportBeaconSend:Ze,searchZZAppStyle:ye,searchObjString:Se,filterReservedProperties:Pe,parseSuperProperties:ke,strip_sa_properties:be,searchConfigData:Ne,strip_empty_properties:Ce,UUID:Ae,getCurrentDomain:$e,getEleInfo:De,isBaiduTraffic:Oe,getReferrerEqid:Te,getReferrerEqidType:xe,getBaiduKeyword:Ie,getCookieTopLevelDomain:Ee,isReferralTraffic:He,getReferrer:Je,getKeywordFromReferrer:Be,getWxAdIdFromUrl:Le,getReferSearchEngine:Ue,getSourceFromReferrer:Me,info:Re,autoExeQueue:qe,formatString:we,addEvent:Qe,addHashEvent:Ye,addSinglePageEvent:Ge,listenPageState:et,bindReady:function(e,t){t=t||window;var r=!1,a=!0,i=t.document,n=i.documentElement,s=i.addEventListener,o=s?"addEventListener":"attachEvent",c=s?"removeEventListener":"detachEvent",l=s?"":"on",u=function(a){"readystatechange"==a.type&&"complete"!=i.readyState||(("load"==a.type?t:i)[c](l+a.type,u,!1),!r&&(r=!0)&&e.call(t,a.type||a))},p=function(){try{n.doScroll("left")}catch(e){return void setTimeout(p,50)}u("poll")};if("complete"==i.readyState)e.call(t,"lazy");else{if(!s&&n.doScroll){try{a=!t.frameElement}catch(e){X(e)}a&&p()}i[o](l+"DOMContentLoaded",u,!1),i[o](l+"readystatechange",u,!1),t[o](l+"load",u,!1)}},xhr:tt,ajax:rt,jsonp:at,eventEmitter:it},st={checkIsAddSign:function(e){"track"===e.type&&(Fe.getNewUser()?e.properties.$is_first_day=!0:e.properties.$is_first_day=!1)},is_first_visit_time:!1,checkIsFirstTime:function(e){"track"===e.type&&"$pageview"===e.event&&(this.is_first_visit_time?(e.properties.$is_first_time=!0,this.is_first_visit_time=!1):e.properties.$is_first_time=!1)},setDeviceId:function(e){var t=null,r=Fe.get("sensorsdata2015jssdkcross"+a.para.sdk_id),i={};null!=(r=Fe.resolveValue(r))&&H(r)&&(i=JSON.parse(r)).$device_id&&(t=i.$device_id),t=t||e,!0===a.para.cross_subdomain?a.store.set("$device_id",t):(i.$device_id=t,i=JSON.stringify(i),a.para.encrypt_cookie&&(i=Fe.encrypt(i)),Fe.set("sensorsdata2015jssdkcross"+a.para.sdk_id,i,null,!0)),a.para.is_track_device_id&&(Re.currentProps.$device_id=t)},storeInitCheck:function(){if(a.is_first_visitor){var e=new Date,t={h:23-e.getHours(),m:59-e.getMinutes(),s:59-e.getSeconds()};Fe.set(Fe.getCookieName("new_user"),"1",3600*t.h+60*t.m+t.s+"s"),this.is_first_visit_time=!0}else Fe.getNewUser()||(this.checkIsAddSign=function(e){"track"===e.type&&(e.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(e){"track"===e.type&&"$pageview"===e.event&&(e.properties.$is_first_time=!1)}},checkIsFirstLatest:function(){var e=Re.pageProp.url_domain,t={};""===e&&(e="url解析失败");var r=Be(document.referrer,!0);if(a.para.preset_properties.search_keyword_baidu?He(document.referrer)&&(!Oe()||A(r)&&r.active?a.store._state&&a.store._state.props&&(a.store._state.props.$search_keyword_id&&delete a.store._state.props.$search_keyword_id,a.store._state.props.$search_keyword_id_type&&delete a.store._state.props.$search_keyword_id_type,a.store._state.props.$search_keyword_id_hash&&delete a.store._state.props.$search_keyword_id_hash):(t.$search_keyword_id=Ie.id(),t.$search_keyword_id_type=Ie.type(),t.$search_keyword_id_hash=U(t.$search_keyword_id))):a.store._state&&a.store._state.props&&(a.store._state.props.$search_keyword_id&&delete a.store._state.props.$search_keyword_id,a.store._state.props.$search_keyword_id_type&&delete a.store._state.props.$search_keyword_id_type,a.store._state.props.$search_keyword_id_hash&&delete a.store._state.props.$search_keyword_id_hash),a.store.save(),v(a.para.preset_properties,(function(r,i){if(-1===i.indexOf("latest_"))return!1;if(i=i.slice(7),r){if("wx_ad_click_id"===i&&"not_collect"===r)return!1;if("utm"!==i&&"url解析失败"===e)"wx_ad_click_id"===i?(t._latest_wx_ad_click_id="url的domain解析失败",t._latest_wx_ad_hash_key="url的domain解析失败",t._latest_wx_ad_callbacks="url的domain解析失败"):t["$latest_"+i]="url的domain解析失败";else if(He(document.referrer))switch(i){case"traffic_source_type":t.$latest_traffic_source_type=Me();break;case"referrer":t.$latest_referrer=Re.pageProp.referrer;break;case"search_keyword":Be()?t.$latest_search_keyword=Be():A(a.store._state)&&A(a.store._state.props)&&a.store._state.props.$latest_search_keyword&&delete a.store._state.props.$latest_search_keyword;break;case"landing_page":t.$latest_landing_page=fe();break;case"wx_ad_click_id":var n=Le(location.href);t._latest_wx_ad_click_id=n.click_id,t._latest_wx_ad_hash_key=n.hash_key,t._latest_wx_ad_callbacks=n.callbacks}}else if("utm"===i&&a.store._state&&a.store._state.props)for(var s in a.store._state.props)(0===s.indexOf("$latest_utm")||0===s.indexOf("_latest_")&&s.indexOf("_latest_wx_ad_")<0)&&delete a.store._state.props[s];else if(a.store._state&&a.store._state.props&&"$latest_"+i in a.store._state.props)delete a.store._state.props["$latest_"+i];else if("wx_ad_click_id"==i&&a.store._state&&a.store._state.props&&!1===r){v(["_latest_wx_ad_click_id","_latest_wx_ad_hash_key","_latest_wx_ad_callbacks"],(function(e){e in a.store._state.props&&delete a.store._state.props[e]}))}})),a.register(t),a.para.preset_properties.latest_utm){var i=Re.campaignParamsStandard("$latest_","_latest_"),n=i.$utms,s=i.otherUtms;$(n)||a.register(n),$(s)||a.register(s)}}},ot={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getUnionId:function(){var e={},t=this._state._first_id||this._state.first_id,r=this._state._distinct_id||this._state.distinct_id;return t&&r?(e.login_id=r,e.anonymous_id=t):e.anonymous_id=r,e},getFirstId:function(){return this._state._first_id||this._state.first_id},toState:function(e){var t=null;if(null!=e&&H(e))if(t=JSON.parse(e),this._state=w(t),t.distinct_id){if("object"==typeof t.props){for(var r in t.props)"string"==typeof t.props[r]&&(t.props[r]=t.props[r].slice(0,a.para.max_referrer_string_length));this.save()}}else this.set("distinct_id",Ae()),a.debug.distinct_id("1",e);else this.set("distinct_id",Ae()),a.debug.distinct_id("2",e)},initSessionState:function(){var e=Fe.get("sensorsdata2015session"),t=null;null!==e&&"object"==typeof(t=JSON.parse(e))&&(this._sessionState=t||{})},setOnce:function(e,t){e in this._state||this.set(e,t)},set:function(e,t){this._state=this._state||{};var r=this._state.distinct_id;this._state[e]=t,"first_id"===e?delete this._state._first_id:"distinct_id"===e&&delete this._state._distinct_id,this.save(),"distinct_id"===e&&r&&a.events.tempAdd("changeDistinctId",t)},change:function(e,t){this._state["_"+e]=t},setSessionProps:function(e){var t=this._sessionState;w(t,e),this.sessionSave(t)},setSessionPropsOnce:function(e){var t=this._sessionState;S(t,e),this.sessionSave(t)},setProps:function(e,t){var r={};for(var i in r=t?e:w(this._state.props||{},e))"string"==typeof r[i]&&(r[i]=r[i].slice(0,a.para.max_referrer_string_length));this.set("props",r)},setPropsOnce:function(e){var t=this._state.props||{};S(t,e),this.set("props",t)},clearAllProps:function(e){var t;if(this._sessionState={},f(e)&&e.length>0)for(t=0;t<e.length;t++)O(e[t])&&-1===e[t].indexOf("latest_")&&A(this._state.props)&&e[t]in this._state.props&&delete this._state.props[e[t]];else if(A(this._state.props))for(t in this._state.props)1!==t.indexOf("latest_")&&delete this._state.props[t];this.sessionSave({}),this.save()},sessionSave:function(e){this._sessionState=e,Fe.set("sensorsdata2015session",JSON.stringify(this._sessionState),0)},save:function(){var e=JSON.parse(JSON.stringify(this._state));delete e._first_id,delete e._distinct_id;var t=JSON.stringify(e);a.para.encrypt_cookie&&(t=Fe.encrypt(t)),Fe.set(this.getCookieName(),t,73e3,a.para.cross_subdomain)},getCookieName:function(){var e="";if(!1===a.para.cross_subdomain){try{e=pe(location.href).hostname}catch(e){a.log(e)}e="string"==typeof e&&""!==e?"sa_jssdk_2015_"+a.para.sdk_id+e.replace(/\./g,"_"):"sa_jssdk_2015_root"+a.para.sdk_id}else e="sensorsdata2015jssdkcross"+a.para.sdk_id;return e},init:function(){this.initSessionState();var e=Ae(),t=Fe.get(this.getCookieName());null===(t=Fe.resolveValue(t))?(a.is_first_visitor=!0,this.set("distinct_id",e)):(H(t)&&JSON.parse(t).distinct_id||(a.is_first_visitor=!0),this.toState(t)),st.setDeviceId(e),st.storeInitCheck(),st.checkIsFirstLatest()}},ct={regChecks:{regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$)[a-zA-Z_$][a-zA-Z\d_$]{0,99})$/i},checkPropertiesKey:function(e){var t=this,r=!0;return v(e,(function(e,a){t.regChecks.regName.test(a)||(r=!1)})),r},check:function(e,t){return"string"==typeof this[e]?this[this[e]](t):b(this[e])?this[e](t):void 0},str:function(e){return!(!O(e)||""===e)||(X("请检查参数格式,必须是字符串且有值"),!1)},properties:function(e){return be(e),!e||(A(e)?(this.checkPropertiesKey(e)||X("properties 里的自定义属性名需要是合法的变量名，不能以数字开头，且只包含：大小写字母、数字、下划线，自定义属性不能以 $ 开头"),!0):(X("properties可以没有，但有的话必须是对象"),!0))},propertiesMust:function(e){return be(e),void 0===e||!A(e)||$(e)?(X("properties必须是对象且有值"),!0):(this.checkPropertiesKey(e)||X("properties 里的自定义属性名需要是合法的变量名，不能以数字开头，且只包含：大小写字母、数字、下划线，自定义属性不能以 $ 开头"),!0)},event:function(e){return O(e)&&this.regChecks.regName.test(e)||X("请检查参数格式，eventName 必须是字符串，且需是合法的变量名，即不能以数字开头，且只包含：大小写字母、数字、下划线和 $,其中以 $ 开头的表明是系统的保留字段，自定义事件名请不要以 $ 开头"),!0},item_type:"str",item_id:"str",distinct_id:function(e){return!(!O(e)||!/^.{1,255}$/.test(e))||(X("distinct_id必须是不能为空，且小于255位的字符串"),!1)}};var lt={check:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!ct.check(t,e[t]))return!1;return!0},sendItem:function(e){var t={lib:{$lib:"js",$lib_method:"code",$lib_version:String(a.lib_version)},time:1*new Date};w(t,e),Pe(t.properties),he(t),Se(t),t.properties&&"$project"in t.properties&&(t.project=String(t.properties.$project),delete t.properties.$project),a.sendState.getSendCall(t)},send:function(e,t){var r=a.kit.buildData(e);a.kit.sendData(r,t)},debugPath:function(e){var t=e;rt({url:-1!==a.para.debug_mode_url.indexOf("?")?a.para.debug_mode_url+"&"+a.kit.encodeTrackData(e):a.para.debug_mode_url+"?"+a.kit.encodeTrackData(e),type:"GET",cors:!0,header:{"Dry-Run":String(a.para.debug_mode_upload)},success:function(e){!0===$(e)?alert("debug数据发送成功"+t):alert("debug失败 错误原因"+JSON.stringify(e))}})}},ut={otherTags:[],getTargetElement:function(e,t){var r=e;if("object"!=typeof r)return null;if("string"!=typeof r.tagName)return null;var i=r.tagName.toLowerCase();if("body"===i.toLowerCase()||"html"===i.toLowerCase())return null;if(!r||!r.parentNode||!r.parentNode.children)return null;var n=r.parentNode,s=this.hasElement({event:t&&t.originalEvent||t,element:e},(function(e){return"a"===e.tagName.toLowerCase()||Z(e,a.para.heatmap.track_attr)})),o=this.otherTags;if("a"===i||"button"===i||"input"===i||"textarea"===i)return r;if(N(o,i)>-1)return r;if("button"===n.tagName.toLowerCase()||"a"===n.tagName.toLowerCase())return n;if("area"===i&&"map"===n.tagName.toLowerCase()&&ee(n).prev().tagName&&"img"===ee(n).prev().tagName.toLowerCase())return ee(n).prev();if(s)return s;if("div"===i&&a.para.heatmap.collect_tags.div&&this.isDivLevelValid(r))return(a.para.heatmap&&a.para.heatmap.collect_tags&&a.para.heatmap.collect_tags.div&&a.para.heatmap.collect_tags.div.max_level||1)>1||this.isCollectableDiv(r)?r:null;if(this.isStyleTag(i)&&a.para.heatmap.collect_tags.div){var c=this.getCollectableParent(r);if(c&&this.isDivLevelValid(c))return c}return null},getDivLevels:function(e,t){var r=ut.getElementPath(e,!0,t).split(" > "),a=0;return v(r,(function(e){"div"===e&&a++})),a},isDivLevelValid:function(e){for(var t=a.para.heatmap&&a.para.heatmap.collect_tags&&a.para.heatmap.collect_tags.div&&a.para.heatmap.collect_tags.div.max_level||1,r=e.getElementsByTagName("div"),i=r.length-1;i>=0;i--)if(ut.getDivLevels(r[i],e)>t)return!1;return!0},getElementPath:function(e,t,r){for(var a=[];e.parentNode;){if(e.id&&!t&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.id)){a.unshift(e.tagName.toLowerCase()+"#"+e.id);break}if(r&&e===r){a.unshift(e.tagName.toLowerCase());break}if(e===document.body){a.unshift("body");break}a.unshift(e.tagName.toLowerCase()),e=e.parentNode}return a.join(" > ")},getClosestLi:function(e){return function(e,t){for(;e&&e!==document&&1===e.nodeType;e=e.parentNode)if(e.tagName.toLowerCase()===t)return e;return null}(e,"li")},getElementPosition:function(e,t,r){var i=a.heatmap.getClosestLi(e);if(!i)return null;var n=e.tagName.toLowerCase(),s=i.getElementsByTagName(n),o=s.length,c=[];if(o>1){for(var l=0;l<o;l++){a.heatmap.getElementPath(s[l],r)===t&&c.push(s[l])}if(c.length>1)return N(c,e)}return function(e){if(!e.parentNode)return"";if(1===ee(e).getSameTypeSiblings().length)return 0;for(var t=0,r=e;ee(r).previousElementSibling().ele;r=ee(r).previousElementSibling().ele,t++);return t}(i)},setNotice:function(e){a.is_heatmap_render_mode=!0,a.para.heatmap||(a.errorMsg="您SDK没有配置开启点击图，可能没有数据！"),e&&e[0]&&e[1]&&"http:"===e[1].slice(0,5)&&"https:"===location.protocol&&(a.errorMsg="您的当前页面是https的地址，神策分析环境也必须是https！"),a.para.heatmap_url||(a.para.heatmap_url=location.protocol+"//static.sensorsdata.cn/sdk/"+a.lib_version+"/heatmap.min.js")},getDomIndex:function(e){if(!e.parentNode)return-1;for(var t=0,r=e.tagName,a=e.parentNode.children,i=0;i<a.length;i++)if(a[i].tagName===r){if(e===a[i])return t;t++}return-1},selector:function(e,t){var r=e.parentNode&&9==e.parentNode.nodeType?-1:this.getDomIndex(e);return e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))&&(!a.para.heatmap||a.para.heatmap&&"not_use_id"!==a.para.heatmap.element_selector)&&!t?"#"+e.getAttribute("id"):e.tagName.toLowerCase()+(~r?":nth-of-type("+(r+1)+")":"")},getDomSelector:function(e,t,r){if(!e||!e.parentNode||!e.parentNode.children)return!1;t=t&&t.join?t:[];var i=e.nodeName.toLowerCase();return e&&"body"!==i&&1==e.nodeType?(t.unshift(this.selector(e,r)),e.getAttribute&&e.getAttribute("id")&&/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(e.getAttribute("id"))&&a.para.heatmap&&"not_use_id"!==a.para.heatmap.element_selector&&!r?t.join(" > "):this.getDomSelector(e.parentNode,t,r)):(t.unshift("body"),t.join(" > "))},na:function(){var e=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(e)?0:e,10)},i:function(){var e=0;try{e=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,e=isNaN(e)?0:e}catch(t){e=0}return parseInt(e,10)},getBrowserWidth:function(){var e=window.innerWidth||document.body.clientWidth;return isNaN(e)?0:parseInt(e,10)},getBrowserHeight:function(){var e=window.innerHeight||document.body.clientHeight;return isNaN(e)?0:parseInt(e,10)},getScrollWidth:function(){var e=parseInt(document.body.scrollWidth,10);return isNaN(e)?0:e},getEleDetail:function(e){var t=this.getDomSelector(e),r=De({target:e});r.$element_selector=t||"",r.$element_path=a.heatmap.getElementPath(e,a.para.heatmap&&"not_use_id"===a.para.heatmap.element_selector);var i=a.heatmap.getElementPosition(e,r.$element_path,a.para.heatmap&&"not_use_id"===a.para.heatmap.element_selector);return I(i)&&(r.$element_position=i),r},start:function(e,t,r,i,n){var s=A(i)?i:{},o=b(n)?n:b(i)?i:void 0;if(a.para.heatmap&&a.para.heatmap.collect_element&&!a.para.heatmap.collect_element(t))return!1;var c=this.getEleDetail(t);if(a.para.heatmap&&a.para.heatmap.custom_property){var l=a.para.heatmap.custom_property(t);A(l)&&(c=w(c,l))}c=w(c,s),"a"===r&&a.para.heatmap&&!0===a.para.heatmap.isTrackLink?a.trackLink({event:e,target:t},"$WebClick",c):a.track("$WebClick",c,o)},hasElement:function(e,t){var r;if(e.event){var a=e.event;r=a.path||a._getPath&&a._getPath()}else e.element&&(r=ee(e.element).getParents());if(r&&f(r)&&r.length>0)for(var i=0;i<r.length;i++)if("object"==typeof r[i]&&1===r[i].nodeType&&t(r[i]))return r[i]},isStyleTag:function(e,t){return!(N(["a","div","input","button","textarea"],e)>-1)&&(!t||a.para.heatmap&&a.para.heatmap.collect_tags&&a.para.heatmap.collect_tags.div?!!(A(a.para.heatmap)&&A(a.para.heatmap.collect_tags)&&A(a.para.heatmap.collect_tags.div)&&f(a.para.heatmap.collect_tags.div.ignore_tags)&&N(a.para.heatmap.collect_tags.div.ignore_tags,e)>-1):N(["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"],e)>-1)},isCollectableDiv:function(e,t){try{if(0===e.children.length)return!0;for(var r=0;r<e.children.length;r++)if(1===e.children[r].nodeType){var i=e.children[r].tagName.toLowerCase(),n=a.para&&a.para.heatmap&&a.para.heatmap.collect_tags&&a.para.heatmap.collect_tags.div&&a.para.heatmap.collect_tags.div.max_level;if(!("div"===i&&n>1||this.isStyleTag(i,t)))return!1;if(!this.isCollectableDiv(e.children[r],t))return!1}return!0}catch(e){a.log(e)}return!1},getCollectableParent:function(e,t){try{var r=e.parentNode,i=r?r.tagName.toLowerCase():"";if("body"===i)return!1;var n=a.para&&a.para.heatmap&&a.para.heatmap.collect_tags&&a.para.heatmap.collect_tags.div&&a.para.heatmap.collect_tags.div.max_level;if(i&&"div"===i&&(n>1||this.isCollectableDiv(r,t)))return r;if(r&&this.isStyleTag(i,t))return this.getCollectableParent(r,t)}catch(e){a.log(e)}return!1},initScrollmap:function(){if(!A(a.para.heatmap)||"default"!==a.para.heatmap.scroll_notice_map)return!1;var e=function(){return!(a.para.scrollmap&&b(a.para.scrollmap.collect_url)&&!a.para.scrollmap.collect_url())},t=function(e){var t={};return t.timeout=e.timeout||1e3,t.func=e.func,t.hasInit=!1,t.inter=null,t.main=function(e,t){this.func(e,t),this.inter=null},t.go=function(e){var r={};this.inter||(r.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,r.$viewport_position=Math.round(r.$viewport_position)||0,r.$viewport_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,r.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,e?t.main(r,!0):this.inter=setTimeout((function(){t.main(r)}),this.timeout))},t}({timeout:1e3,func:function(e,t){var r=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,i=new Date,n=i-this.current_time;(n>a.para.heatmap.scroll_delay_time&&r-e.$viewport_position!=0||t)&&(e.$url=fe(),e.$title=document.title,e.$url_path=location.pathname,e.event_duration=Math.min(a.para.heatmap.scroll_event_duration,parseInt(n)/1e3),e.event_duration=e.event_duration<0?0:e.event_duration,a.track("$WebStay",e)),this.current_time=i}});t.current_time=new Date,Qe(window,"scroll",(function(){if(!e())return!1;t.go()})),Qe(window,"unload",(function(){if(!e())return!1;t.go("notime")}))},initHeatmap:function(){var e=this;return!(!A(a.para.heatmap)||"default"!==a.para.heatmap.clickmap)&&(!(b(a.para.heatmap.collect_url)&&!a.para.heatmap.collect_url())&&("all"===a.para.heatmap.collect_elements?a.para.heatmap.collect_elements="all":a.para.heatmap.collect_elements="interact",void("all"===a.para.heatmap.collect_elements?Qe(document,"click",(function(t){var r=t||window.event;if(!r)return!1;var a=r.target||r.srcElement;if("object"!=typeof a)return!1;if("string"!=typeof a.tagName)return!1;var i=a.tagName.toLowerCase();if("body"===i||"html"===i)return!1;if(!a||!a.parentNode||!a.parentNode.children)return!1;var n=a.parentNode.tagName.toLowerCase();"a"===n||"button"===n?e.start(r,a.parentNode,n):e.start(r,a,i)})):Qe(document,"click",(function(t){var r=t||window.event;if(!r)return!1;var i=r.target||r.srcElement,n=a.heatmap.getTargetElement(i,t);n?e.start(r,n,n.tagName.toLowerCase()):E(i)&&"div"===i.tagName.toLowerCase()&&A(a.para.heatmap)&&a.para.heatmap.get_vtrack_config&&a.unlimitedDiv.events.length>0&&a.unlimitedDiv.isTargetEle(i)&&e.start(r,i,i.tagName.toLowerCase(),{$lib_method:"vtrack"})})))))}},pt={setOnlineState:function(e){if(!0===e&&A(a.para.jsapp)&&"function"==typeof a.para.jsapp.getData){a.para.jsapp.isOnline=!0;var t=a.para.jsapp.getData();f(t)&&t.length>0&&v(t,(function(e){H(e)&&a.sendState.realtimeSend(JSON.parse(e))}))}else a.para.jsapp.isOnline=!1},autoTrackIsUsed:!1,isReady:function(e){e()},getUtm:function(){return Re.campaignParams()},getStayTime:function(){return(new Date-a._t)/1e3},setProfileLocal:function(e){if(!Ve.isSupport())return a.setProfile(e),!1;if(!A(e)||$(e))return!1;var t=Ve.parse("sensorsdata_2015_jssdk_profile"),r=!1;if(A(t)&&!$(t)){for(var i in e)(i in t&&t[i]!==e[i]||!(i in t))&&(t[i]=e[i],r=!0);r&&(Ve.set("sensorsdata_2015_jssdk_profile",JSON.stringify(t)),a.setProfile(e))}else Ve.set("sensorsdata_2015_jssdk_profile",JSON.stringify(e)),a.setProfile(e)},setInitReferrer:function(){var e=Je();a.setOnceProfile({_init_referrer:e,_init_referrer_host:Re.pageProp.referrer_host})},setSessionReferrer:function(){var e=Je();a.store.setSessionPropsOnce({_session_referrer:e,_session_referrer_host:Re.pageProp.referrer_host})},setDefaultAttr:function(){Re.register({_current_url:location.href,_referrer:Je(),_referring_host:Re.pageProp.referrer_host})},trackHeatMap:function(e,t,r){if("object"==typeof e&&e.tagName){var i=e.tagName.toLowerCase(),n=e.parentNode.tagName.toLowerCase(),s=a.para.heatmap&&a.para.heatmap.track_attr?a.para.heatmap.track_attr:["data-sensors-click"];"button"===i||"a"===i||"a"===n||"button"===n||"input"===i||"textarea"===i||Z(e,s)||ut.start(null,e,i,t,r)}},trackAllHeatMap:function(e,t,r){if("object"==typeof e&&e.tagName){var a=e.tagName.toLowerCase();ut.start(null,e,a,t,r)}},autoTrackSinglePage:function(e,t){var r;function i(){var e=Re.campaignParams(),t={};return v(e,(function(e,r,i){-1!==(" "+a.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=i[r]:t[r]=i[r]})),t}r=this.autoTrackIsUsed?Re.pageProp.url:Re.pageProp.referrer;var n=!(e=A(e)?e:{}).not_set_profile;function s(e,t){a.track("$pageview",w({$referrer:r,$url:fe(),$url_path:location.pathname,$title:document.title},e,i()),t),r=fe()}if(e.not_set_profile&&delete e.not_set_profile,s(e,t),this.autoTrackSinglePage=s,a.is_first_visitor&&n){var o={};a.para.preset_properties.search_keyword_baidu&&He(document.referrer)&&Oe()&&(o.$search_keyword_id=Ie.id(),o.$search_keyword_id_type=Ie.type(),o.$search_keyword_id_hash=U(o.$search_keyword_id)),a.setOnceProfile(w({$first_visit_time:new Date,$first_referrer:Je(),$first_browser_language:navigator.language||"取值异常",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"取值异常",$first_traffic_source_type:Me(),$first_search_keyword:Be()},i(),o)),a.is_first_visitor=!1}},autoTrackWithoutProfile:function(e,t){e=A(e)?e:{},this.autoTrack(w(e,{not_set_profile:!0}),t)},autoTrack:function(e,t){e=A(e)?e:{};var r=Re.campaignParams(),i={};v(r,(function(e,t,r){-1!==(" "+a.source_channel_standard+" ").indexOf(" "+t+" ")?i["$"+t]=r[t]:i[t]=r[t]}));var n=!e.not_set_profile;e.not_set_profile&&delete e.not_set_profile;var s=location.href;if(a.para.is_single_page&&Ye((function(){var r=Je(s);a.track("$pageview",w({$referrer:r,$url:fe(),$url_path:location.pathname,$title:document.title},i,e),t),s=fe()})),a.track("$pageview",w({$referrer:Je(),$url:fe(),$url_path:location.pathname,$title:document.title},i,e),t),a.is_first_visitor&&n){var o={};a.para.preset_properties.search_keyword_baidu&&He(document.referrer)&&Oe()&&(o.$search_keyword_id=Ie.id(),o.$search_keyword_id_type=Ie.type(),o.$search_keyword_id_hash=U(o.$search_keyword_id)),a.setOnceProfile(w({$first_visit_time:new Date,$first_referrer:Je(),$first_browser_language:navigator.language||"取值异常",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"取值异常",$first_traffic_source_type:Me(),$first_search_keyword:Be()},i,o)),a.is_first_visitor=!1}this.autoTrackIsUsed=!0},getAnonymousID:function(){return $(a.store._state)?"请先初始化SDK":a.store._state._first_id||a.store._state.first_id||a.store._state._distinct_id||a.store._state.distinct_id},setPlugin:function(e){if(!A(e))return!1;v(e,(function(e,t){b(e)&&(A(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[t]?e(window.SensorsDataWebJSSDKPlugin[t]):a.log(t+"没有获取到,请查阅文档，调整"+t+"的引入顺序！"))}))},useModulePlugin:function(){a.use.apply(a,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}};a.para_default=z,a.addReferrerHost=function(e){A(e.properties)&&(e.properties.$first_referrer&&(e.properties.$first_referrer_host=de(e.properties.$first_referrer,"取值异常")),"track"!==e.type&&"track_signup"!==e.type||("$referrer"in e.properties&&(e.properties.$referrer_host=""===e.properties.$referrer?"":de(e.properties.$referrer,"取值异常")),a.para.preset_properties.latest_referrer&&a.para.preset_properties.latest_referrer_host&&(e.properties.$latest_referrer_host=""===e.properties.$latest_referrer?"":de(e.properties.$latest_referrer,"取值异常"))))},a.addPropsHook=function(e){a.para.preset_properties&&a.para.preset_properties.url&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$url&&(e.properties.$url=fe()),a.para.preset_properties&&a.para.preset_properties.title&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$title&&(e.properties.$title=document.title)},a.initPara=function(e){w(V,e||a.para||{}),a.para=V;var t,r={};if(A(a.para.is_track_latest))for(var i in a.para.is_track_latest)r["latest_"+i]=a.para.is_track_latest[i];for(t in a.para.preset_properties=w({},a.para_default.preset_properties,r,a.para.preset_properties||{}),a.para_default)void 0===a.para[t]&&(a.para[t]=a.para_default[t]);"string"==typeof a.para.server_url&&(a.para.server_url=j(a.para.server_url),a.para.server_url&&("://"===a.para.server_url.slice(0,3)?a.para.server_url=location.protocol.slice(0,-1)+a.para.server_url:"//"===a.para.server_url.slice(0,2)?a.para.server_url=location.protocol+a.para.server_url:"http"!==a.para.server_url.slice(0,4)&&(a.para.server_url=""))),"string"!=typeof a.para.web_url||"://"!==a.para.web_url.slice(0,3)&&"//"!==a.para.web_url.slice(0,2)||("://"===a.para.web_url.slice(0,3)?a.para.web_url=location.protocol.slice(0,-1)+a.para.web_url:a.para.web_url=location.protocol+a.para.web_url),"image"!==a.para.send_type&&"ajax"!==a.para.send_type&&"beacon"!==a.para.send_type&&(a.para.send_type="image"),a.debug.protocol.serverUrl(),a.bridge.initPara(),a.bridge.initState();var n={datasend_timeout:6e3,send_interval:6e3};Ve.isSupport()&&We()&&"object"==typeof localStorage?!0===a.para.batch_send?a.para.batch_send=w({},n):"object"==typeof a.para.batch_send&&(a.para.batch_send=w({},n,a.para.batch_send)):a.para.batch_send=!1;var s=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],o=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],c=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],l={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};"object"==typeof a.para.source_type&&(a.para.source_type.utm=f(a.para.source_type.utm)?a.para.source_type.utm.concat(s):s,a.para.source_type.search=f(a.para.source_type.search)?a.para.source_type.search.concat(o):o,a.para.source_type.social=f(a.para.source_type.social)?a.para.source_type.social.concat(c):c,a.para.source_type.keyword=A(a.para.source_type.keyword)?w(l,a.para.source_type.keyword):l);var u=["mark","/mark","strong","b","em","i","u","abbr","ins","del","s","sup"];if(a.para.heatmap&&!A(a.para.heatmap)&&(a.para.heatmap={}),A(a.para.heatmap)){a.para.heatmap.clickmap=a.para.heatmap.clickmap||"default",a.para.heatmap.scroll_notice_map=a.para.heatmap.scroll_notice_map||"default",a.para.heatmap.scroll_delay_time=a.para.heatmap.scroll_delay_time||4e3,a.para.heatmap.scroll_event_duration=a.para.heatmap.scroll_event_duration||18e3,a.para.heatmap.renderRefreshTime=a.para.heatmap.renderRefreshTime||1e3,a.para.heatmap.loadTimeout=a.para.heatmap.loadTimeout||1e3,!0!==a.para.heatmap.get_vtrack_config&&(a.para.heatmap.get_vtrack_config=!1);var p=f(a.para.heatmap.track_attr)?C(a.para.heatmap.track_attr,(function(e){return e&&"string"==typeof e})):[];if(p.push("data-sensors-click"),a.para.heatmap.track_attr=p,A(a.para.heatmap.collect_tags))if(!0===a.para.heatmap.collect_tags.div)a.para.heatmap.collect_tags.div={ignore_tags:u,max_level:1};else if(A(a.para.heatmap.collect_tags.div)){if(a.para.heatmap.collect_tags.div.ignore_tags?f(a.para.heatmap.collect_tags.div.ignore_tags)||(a.log("ignore_tags 参数必须是数组格式"),a.para.heatmap.collect_tags.div.ignore_tags=u):a.para.heatmap.collect_tags.div.ignore_tags=u,a.para.heatmap.collect_tags.div.max_level){-1===N([1,2,3],a.para.heatmap.collect_tags.div.max_level)&&(a.para.heatmap.collect_tags.div.max_level=1)}}else a.para.heatmap.collect_tags.div=!1;else a.para.heatmap.collect_tags={div:!1}}"string"==typeof a.para.server_url&&(a.para.debug_mode_url=a.para.debug_mode_url||a.para.server_url.replace("sa.gif","debug")),!0===a.para.noCache?a.para.noCache="?"+(new Date).getTime():a.para.noCache="",a.para.callback_timeout>a.para.datasend_timeout&&(a.para.datasend_timeout=a.para.callback_timeout),a.para.heatmap&&a.para.heatmap.collect_tags&&A(a.para.heatmap.collect_tags)&&v(a.para.heatmap.collect_tags,(function(e,t){"div"!==t&&e&&a.heatmap.otherTags.push(t)}))},a.readyState={state:0,historyState:[],stateType:{1:"1-init未开始",2:"2-init开始",3:"3-store完成"},getState:function(){return this.historyState.join("\n")},setState:function(e){String(e)in this.stateType&&(this.state=e),this.historyState.push(this.stateType[e])}},a.setPreConfig=function(e){a.para=e.para,a._q=e._q},a.setInitVar=function(){a._t=a._t||1*new Date,a.lib_version="1.19.10",a.is_first_visitor=!1,a.source_channel_standard=ve},a.log=X,a.enableLocalLog=function(){if(ze.isSupport())try{sessionStorage.setItem("sensorsdata_jssdk_debug","true")}catch(e){a.log("enableLocalLog error: "+e.message)}},a.disableLocalLog=function(){ze.isSupport()&&sessionStorage.removeItem("sensorsdata_jssdk_debug")},a.debug=me,a.quick=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1);if("string"==typeof t&&pt[t])return pt[t].apply(pt,r);"function"==typeof t?t.apply(a,r):a.log("quick方法中没有这个功能"+e[0])},a.use=function(e,t){return O(e)?A(window.SensorsDataWebJSSDKPlugin)&&A(window.SensorsDataWebJSSDKPlugin[e])&&b(window.SensorsDataWebJSSDKPlugin[e].init)?(window.SensorsDataWebJSSDKPlugin[e].init(a,t),window.SensorsDataWebJSSDKPlugin[e]):A(a.modules)&&A(a.modules[e])&&b(a.modules[e].init)?(a.modules[e].init(a,t),a.modules[e]):void a.log(e+"没有获取到,请查阅文档，调整"+e+"的引入顺序！"):(a.log("use插件名称必须是字符串！"),!1)},a.track=function(e,t,r){lt.check({event:e,properties:t})&&lt.send({type:"track",event:e,properties:t},r)},a.trackLink=function(e,t,r){function i(e,t,r){var i=null;if((e=e||{}).ele&&(i=e.ele),e.event&&(i=e.target?e.target:e.event.target),r=r||{},!i||"object"!=typeof i)return!1;if(!i.href||/^javascript/.test(i.href)||i.target||i.download||i.onclick)return a.track(t,r),!1;function n(e){e.stopPropagation(),e.preventDefault();var n=!1;function s(){n||(n=!0,location.href=i.href)}setTimeout(s,1e3),a.track(t,r,s)}e.event&&n(e.event),e.ele&&Qe(e.ele,"click",(function(e){n(e)}))}"object"==typeof e&&e.tagName?i({ele:e},t,r):"object"==typeof e&&e.target&&e.event&&i(e,t,r)},a.trackLinks=function(e,t,r){return r=r||{},!(!e||"object"!=typeof e)&&(!(!e.href||/^javascript/.test(e.href)||e.target)&&void Qe(e,"click",(function(i){i.preventDefault();var n=!1;function s(){n||(n=!0,location.href=e.href)}setTimeout(s,1e3),a.track(t,r,s)})))},a.setItem=function(e,t,r){lt.check({item_type:e,item_id:t,properties:r})&&lt.sendItem({type:"item_set",item_type:e,item_id:t,properties:r||{}})},a.deleteItem=function(e,t){lt.check({item_type:e,item_id:t})&&lt.sendItem({type:"item_delete",item_type:e,item_id:t})},a.setProfile=function(e,t){lt.check({propertiesMust:e})&&lt.send({type:"profile_set",properties:e},t)},a.setOnceProfile=function(e,t){lt.check({propertiesMust:e})&&lt.send({type:"profile_set_once",properties:e},t)},a.appendProfile=function(e,t){lt.check({propertiesMust:e})&&(v(e,(function(t,r){O(t)?e[r]=[t]:f(t)?e[r]=t:(delete e[r],a.log("appendProfile属性的值必须是字符串或者数组"))})),$(e)||lt.send({type:"profile_append",properties:e},t))},a.incrementProfile=function(e,t){var r=e;O(e)&&((e={})[r]=1),lt.check({propertiesMust:e})&&(!function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&!/-*\d+/.test(String(e[t])))return!1;return!0}(e)?a.log("profile_increment的值只能是数字"):lt.send({type:"profile_increment",properties:e},t))},a.deleteProfile=function(e){lt.send({type:"profile_delete"},e),ot.set("distinct_id",Ae()),ot.set("first_id","")},a.unsetProfile=function(e,t){var r=e,i={};O(e)&&(e=[]).push(r),f(e)?(v(e,(function(e){O(e)?i[e]=!0:a.log("profile_unset给的数组里面的值必须时string,已经过滤掉",e)})),lt.send({type:"profile_unset",properties:i},t)):a.log("profile_unset的参数是数组")},a.identify=function(e,t){"number"==typeof e&&(e=String(e));var r=ot.getFirstId();if(void 0===e){var i=Ae();r?ot.set("first_id",i):ot.set("distinct_id",i)}else lt.check({distinct_id:e})?!0===t?r?ot.set("first_id",e):ot.set("distinct_id",e):r?ot.change("first_id",e):ot.change("distinct_id",e):a.log("identify的参数必须是字符串")},a.trackSignup=function(e,t,r,a){if(lt.check({distinct_id:e,event:t,properties:r})){var i=ot.getFirstId()||ot.getDistinctId();ot.set("distinct_id",e),lt.send({original_id:i,distinct_id:e,type:"track_signup",event:t,properties:r},a)}},a.registerPage=function(e){lt.check({properties:e})?w(Re.currentProps,e):a.log("register输入的参数有误")},a.clearAllRegister=function(e){ot.clearAllProps(e)},a.clearPageRegister=function(e){var t;if(f(e)&&e.length>0)for(t=0;t<e.length;t++)O(e[t])&&e[t]in Re.currentProps&&delete Re.currentProps[e[t]];else if(!0===e)for(t in Re.currentProps)delete Re.currentProps[t]},a.register=function(e){lt.check({properties:e})?ot.setProps(e):a.log("register输入的参数有误")},a.registerOnce=function(e){lt.check({properties:e})?ot.setPropsOnce(e):a.log("registerOnce输入的参数有误")},a.registerSession=function(e){lt.check({properties:e})?ot.setSessionProps(e):a.log("registerSession输入的参数有误")},a.registerSessionOnce=function(e){lt.check({properties:e})?ot.setSessionPropsOnce(e):a.log("registerSessionOnce输入的参数有误")},a.login=function(e,t){if("number"==typeof e&&(e=String(e)),lt.check({distinct_id:e})){var r=ot.getFirstId(),i=ot.getDistinctId();e!==i?(r||ot.set("first_id",i),a.trackSignup(e,"$SignUp",{},t)):t&&t()}else a.log("login的参数必须是字符串"),t&&t()},a.logout=function(e){var t=ot.getFirstId();if(t)if(ot.set("first_id",""),!0===e){var r=Ae();ot.set("distinct_id",r)}else ot.set("distinct_id",t);else a.log("没有first_id，logout失败")},a.getPresetProperties=function(){var e,t,r={$is_first_day:Fe.getNewUser(),$referrer:Re.pageProp.referrer||"",$referrer_host:Re.pageProp.referrer?de(Re.pageProp.referrer):"",$url:fe(),$url_path:location.pathname,$title:document.title||"",_distinct_id:ot.getDistinctId()},i=w({},Re.properties(),a.store.getProps(),(e=Re.campaignParams(),t={},v(e,(function(e,r,i){-1!==(" "+a.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=i[r]:t[r]=i[r]})),t),r);return a.para.preset_properties.latest_referrer&&a.para.preset_properties.latest_referrer_host&&(i.$latest_referrer_host=""===i.$latest_referrer?"":de(i.$latest_referrer)),i},a.iOSWebClickPolyfill=function(){var e="",t=" { cursor: pointer; -webkit-tap-highlight-color: rgba(0,0,0,0); }";a.heatmap&&f(a.heatmap.otherTags)&&v(a.heatmap.otherTags,(function(r){e+=r+t})),a._.isIOS()&&a._.getIOSVersion()&&a._.getIOSVersion()<13&&(a.para.heatmap&&a.para.heatmap.collect_tags&&a.para.heatmap.collect_tags.div&&a._.setCssStyle("div, [data-sensors-click]"+t),a.para.heatmap&&a.para.heatmap.track_attr&&a._.setCssStyle("["+a.para.heatmap.track_attr.join("], [")+"]"+t),""!==e&&a._.setCssStyle(e))};var dt={};function _t(e){return dt.encodeTrackData(e)}dt.buildData=function(e){var t={distinct_id:a.store.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(a.lib_version)},properties:{}};return A(e)&&A(e.properties)&&!$(e.properties)&&(e.properties.$lib_detail&&(t.lib.$lib_detail=e.properties.$lib_detail,delete e.properties.$lib_detail),e.properties.$lib_method&&(t.lib.$lib_method=e.properties.$lib_method,delete e.properties.$lib_method)),w(t,a.store.getUnionId(),e),A(e.properties)&&!$(e.properties)&&w(t.properties,e.properties),e.type&&"profile"===e.type.slice(0,7)||(t.properties=w({},Re.properties(),ot.getProps(),ot.getSessionProps(),Re.currentProps,t.properties),a.para.preset_properties.latest_referrer&&!O(t.properties.$latest_referrer)&&(t.properties.$latest_referrer="取值异常"),a.para.preset_properties.latest_search_keyword&&!O(t.properties.$latest_search_keyword)&&(a.para.preset_properties.search_keyword_baidu&&O(t.properties.$search_keyword_id)&&I(t.properties.$search_keyword_id_hash)&&O(t.properties.$search_keyword_id_type)||(t.properties.$latest_search_keyword="取值异常")),a.para.preset_properties.latest_traffic_source_type&&!O(t.properties.$latest_traffic_source_type)&&(t.properties.$latest_traffic_source_type="取值异常"),a.para.preset_properties.latest_landing_page&&!O(t.properties.$latest_landing_page)&&(t.properties.$latest_landing_page="取值异常"),"not_collect"===a.para.preset_properties.latest_wx_ad_click_id?(delete t.properties._latest_wx_ad_click_id,delete t.properties._latest_wx_ad_hash_key,delete t.properties._latest_wx_ad_callbacks):a.para.preset_properties.latest_wx_ad_click_id&&!O(t.properties._latest_wx_ad_click_id)&&(t.properties._latest_wx_ad_click_id="取值异常",t.properties._latest_wx_ad_hash_key="取值异常",t.properties._latest_wx_ad_callbacks="取值异常"),O(t.properties._latest_wx_ad_click_id)&&(t.properties.$url=fe())),t.properties.$time&&T(t.properties.$time)?(t.time=1*t.properties.$time,delete t.properties.$time):t.time=1*new Date,a.vtrackBase.addCustomProps(t),ke(t),Pe(t.properties),he(t),Se(t),ye(t),st.checkIsAddSign(t),st.checkIsFirstTime(t),a.addReferrerHost(t),a.addPropsHook(t),t},dt.sendData=function(e,t){var r=Ne(e.properties);!0===a.para.debug_mode?(a.log(e),a.saEvent.debugPath(JSON.stringify(e),t)):a.sendState.getSendCall(e,r,t)},dt.encodeTrackData=function(e){var t=M(e),r="crc="+U(t);return"data="+encodeURIComponent(t)+"&ext="+encodeURIComponent(r)};var ft=function(e){var t,r,i;this.callback=e.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,a.para.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.data=e.data,this.server_url=(t=e.server_url,r=e.data,i=dt.encodeTrackData(r),-1!==t.indexOf("?")?t+"&"+i:t+"?"+i)};ft.prototype.start=function(){var e=this;a.para.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()}),this.img.src=this.server_url},ft.prototype.lastClear=function(){this.img.src=""};var gt=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=_t(e.data)};gt.prototype.start=function(){var e=this;rt({url:this.server_url,type:"POST",data:this.data,credentials:!1,timeout:a.para.datasend_timeout,cors:!0,success:function(){e.isEnd()},error:function(){e.isEnd()}})};var ht=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=_t(e.data)};function mt(e){switch(function(e){var t=["image","ajax","beacon"],r=t[0];return"beacon"===(r=e.config&&N(t,e.config.send_type)>-1?e.config.send_type:a.para.send_type)&&!1===Ze()&&(r="image"),"ajax"===r&&!1===We()&&(r="image"),r}(e)){case"image":return new ft(e);case"ajax":return new gt(e);case"beacon":return new ht(e);default:return new ft(e)}}ht.prototype.start=function(){var e=this;"object"==typeof navigator&&"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.server_url,this.data),setTimeout((function(){e.isEnd()}),40)};var vt={};function yt(){this.sendingData=0,this.sendingItemKeys=[]}vt.queue={items:[],enqueue:function(e){this.items.push(e),this.start()},dequeue:function(){return this.items.shift()},getCurrentItem:function(){return this.items[0]},isRun:!1,start:function(){this.items.length>0&&!this.isRun&&(this.isRun=!0,this.getCurrentItem().start())},close:function(){this.dequeue(),this.isRun=!1,this.start()}},vt.getSendCall=function(e,t,r){if(a.is_heatmap_render_mode)return!1;if(a.readyState.state<3)return a.log("初始化没有完成"),!1;e._track_id=Number(String(B()).slice(2,5)+String(B()).slice(2,4)+String((new Date).getTime()).slice(-4)),e._flush_time=(new Date).getTime();var i=e;e=JSON.stringify(e);var n={data:i,config:t,callback:r};if(a.events.tempAdd("send",i),!a.para.app_js_bridge&&a.para.batch_send&&localStorage.length<200)return a.log(i),a.batchSend.add(n.data),!1;"item_set"===i.type||"item_delete"===i.type?this.prepareServerUrl(n):a.bridge.dataSend(n,this,r),a.log(i)},vt.prepareServerUrl=function(e){if("object"==typeof e.config&&e.config.server_url)this.sendCall(e,e.config.server_url,e.callback);else if(f(a.para.server_url)&&a.para.server_url.length)for(var t=0;t<a.para.server_url.length;t++)this.sendCall(e,a.para.server_url[t]);else"string"==typeof a.para.server_url&&""!==a.para.server_url?this.sendCall(e,a.para.server_url,e.callback):a.log("当前 server_url 为空或不正确，只在控制台打印日志，network 中不会发数据，请配置正确的 server_url！")},vt.sendCall=function(e,t,r){var i={server_url:t,data:JSON.stringify(e.data),callback:r,config:e.config};A(a.para.jsapp)&&!a.para.jsapp.isOnline&&"function"==typeof a.para.jsapp.setData?(delete i.callback,i=JSON.stringify(i),a.para.jsapp.setData(i)):this.realtimeSend(i)},vt.realtimeSend=function(e){(function(e){var t=mt(e),r=t.start;return t.start=function(){var e=this;r.apply(this,arguments),setTimeout((function(){e.isEnd(!0)}),a.para.callback_timeout)},t.end=function(){this.callback&&this.callback();var e=this;setTimeout((function(){e.lastClear&&e.lastClear()}),a.para.datasend_timeout-a.para.callback_timeout)},t.isEnd=function(){this.received||(this.received=!0,this.end())},t})(e).start()},yt.prototype={add:function(e){A(e)&&(this.writeStore(e),"track_signup"!==e.type&&"$pageview"!==e.event||this.sendStrategy())},clearPendingStatus:function(){this.sendingItemKeys.length&&this.removePendingItems(this.sendingItemKeys)},remove:function(e){this.sendingData>0&&--this.sendingData,f(e)&&e.length>0&&v(e,(function(e){Ve.remove(e)}))},send:function(e){var t=this;O(a.para.server_url)&&""!==a.para.server_url||f(a.para.server_url)&&a.para.server_url.length?rt({url:f(a.para.server_url)?a.para.server_url[0]:a.para.server_url,type:"POST",data:"data_list="+encodeURIComponent(M(JSON.stringify(e.vals))),credentials:!1,timeout:a.para.batch_send.datasend_timeout,cors:!0,success:function(){t.remove(e.keys),t.removePendingItems(e.keys)},error:function(){t.sendingData>0&&--t.sendingData,t.removePendingItems(e.keys)}}):a.log("当前 server_url 为空或不正确，只在控制台打印日志，network 中不会发数据，请配置正确的 server_url！")},appendPendingItems:function(e){if(!1!==f(e)){this.sendingItemKeys=R(this.sendingItemKeys.concat(e));try{var t=R(this.getPendingItems().concat(e));localStorage.setItem("sawebjssdk-sendingitems",JSON.stringify(t))}catch(e){}}},removePendingItems:function(e){if(!1!==f(e)){this.sendingItemKeys.length&&(this.sendingItemKeys=C(this.sendingItemKeys,(function(t){return-1===N(e,t)})));try{var t=C(this.getPendingItems(),(function(t){return-1===N(e,t)}));localStorage.setItem("sawebjssdk-sendingitems",JSON.stringify(t))}catch(e){}}},getPendingItems:function(){var e=[];try{var t=localStorage.getItem("sawebjssdk-sendingitems");t&&(e=JSON.parse(t))}catch(e){}return e},sendPrepare:function(e){this.appendPendingItems(e.keys);var t=e.vals;t.length>0&&this.send({keys:e.keys,vals:t})},sendStrategy:function(){if(!1===document.hasFocus())return!1;var e=this.readStore();e.keys.length>0&&0===this.sendingData&&(this.sendingData=1,this.sendPrepare(e))},batchInterval:function(){var e=this;setInterval((function(){e.sendStrategy()}),a.para.batch_send.send_interval)},readStore:function(){for(var e=[],t=[],r=null,i=(new Date).getTime(),n=localStorage.length,s=this.getPendingItems(),o=0;o<n;o++){var c=localStorage.key(o);if(0===c.indexOf("sawebjssdk-")&&/^sawebjssdk\-\d+$/.test(c)){if(s.length&&N(s,c)>-1)continue;(r=localStorage.getItem(c))?(r=J(r))&&A(r)?(r._flush_time=i,e.push(c),t.push(r)):(localStorage.removeItem(c),a.log("localStorage-数据parse异常"+r)):(localStorage.removeItem(c),a.log("localStorage-数据取值异常"+r))}}return{keys:e,vals:t}},writeStore:function(e){var t=String(B()).slice(2,5)+String(B()).slice(2,5)+String((new Date).getTime()).slice(3);localStorage.setItem("sawebjssdk-"+t,JSON.stringify(e))}};var wt=new yt,St={bridge_info:{touch_app_bridge:!1,verify_success:!1,platform:""},is_verify_success:!1,initPara:function(){var e={is_send:!0,white_list:[],is_mui:!1};"object"==typeof a.para.app_js_bridge?a.para.app_js_bridge=w({},e,a.para.app_js_bridge):!0===a.para.use_app_track||!0===a.para.app_js_bridge||"only"===a.para.use_app_track?(!1!==a.para.use_app_track_is_send&&"only"!==a.para.use_app_track||(e.is_send=!1),a.para.app_js_bridge=w({},e)):"mui"===a.para.use_app_track&&(e.is_mui=!0,a.para.app_js_bridge=w({},e)),!1===a.para.app_js_bridge.is_send&&a.log("设置了 is_send:false,如果打通失败，数据将被丢弃！")},initState:function(){function e(e){function t(e){var t={hostname:"",project:""};try{t.hostname=pe(e).hostname,t.project=pe(e).searchParams.get("project")||"default"}catch(e){a.log(e)}return t}var r=t(e),i=t(a.para.server_url);if(r.hostname===i.hostname&&r.project===i.project)return!0;if(a.para.app_js_bridge.white_list.length>0)for(var n=0;n<a.para.app_js_bridge.white_list.length;n++){var s=t(a.para.app_js_bridge.white_list[n]);if(s.hostname===r.hostname&&s.project===r.project)return!0}return!1}if(A(a.para.app_js_bridge)&&!a.para.app_js_bridge.is_mui)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&A(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)e(window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)&&(a.bridge.is_verify_success=!0);else if(A(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track){var t=window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url();t&&e(t)&&(a.bridge.is_verify_success=!0)}this.bridge_info=this.initDefineBridgeInfo()},initDefineBridgeInfo:function(){var e={touch_app_bridge:!0,verify_success:!1,platform:""};return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&A(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url?(e.platform="ios",a.bridge.is_verify_success?e.verify_success="success":e.verify_success="fail"):A(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track?(e.platform="android",a.bridge.is_verify_success?e.verify_success="success":e.verify_success="fail"):"object"==typeof SensorsData_APP_JS_Bridge&&(SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify||SensorsData_APP_JS_Bridge.sensorsdata_track)?(e.platform="android",SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify?SensorsData_APP_JS_Bridge.sensorsdata_visual_verify(JSON.stringify({server_url:a.para.server_url}))?e.verify_success="success":e.verify_success="fail":e.verify_success="success"):!/sensors-verify/.test(navigator.userAgent)&&!/sa-sdk-ios/.test(navigator.userAgent)||window.MSStream?e.touch_app_bridge=!1:(e.platform="ios",a.bridge.iOS_UA_bridge()?e.verify_success="success":e.verify_success="fail"),e},iOS_UA_bridge:function(){if(/sensors-verify/.test(navigator.userAgent)){var e=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(e&&e[0]&&"string"==typeof e[1]&&2===e[1].split("?").length){e=e[1].split("?");var t=null,r=null;try{t=pe(a.para.server_url).hostname,r=pe(a.para.server_url).searchParams.get("project")||"default"}catch(e){a.log(e)}return!(!t||t!==e[0]||!r||r!==e[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)},dataSend:function(e,t,r){var i=e.data;if(A(a.para.app_js_bridge)&&!a.para.app_js_bridge.is_mui)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&A(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)a.bridge.is_verify_success?(window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify({callType:"app_h5_track",data:w({server_url:a.para.server_url},i)})),"function"==typeof r&&r()):a.para.app_js_bridge.is_send?(a.debug.apph5({data:i,step:"4.1",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r();else if(A(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track)a.bridge.is_verify_success?(SensorsData_APP_New_H5_Bridge.sensorsdata_track(JSON.stringify(w({server_url:a.para.server_url},i))),"function"==typeof r&&r()):a.para.app_js_bridge.is_send?(a.debug.apph5({data:i,step:"4.2",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r();else if("object"==typeof SensorsData_APP_JS_Bridge&&(SensorsData_APP_JS_Bridge.sensorsdata_verify||SensorsData_APP_JS_Bridge.sensorsdata_track))SensorsData_APP_JS_Bridge.sensorsdata_verify?SensorsData_APP_JS_Bridge.sensorsdata_verify(JSON.stringify(w({server_url:a.para.server_url},i)))?"function"==typeof r&&r():a.para.app_js_bridge.is_send?(a.debug.apph5({data:i,step:"3.1",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r():(SensorsData_APP_JS_Bridge.sensorsdata_track(JSON.stringify(w({server_url:a.para.server_url},i))),"function"==typeof r&&r());else if(!/sensors-verify/.test(navigator.userAgent)&&!/sa-sdk-ios/.test(navigator.userAgent)||window.MSStream)A(a.para.app_js_bridge)&&!0===a.para.app_js_bridge.is_send?(a.debug.apph5({data:i,step:"2",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r();else{var n=null;if(a.bridge.iOS_UA_bridge()){n=document.createElement("iframe");var s=function(e){var t=JSON.stringify(w({server_url:a.para.server_url},e));return t=t.replaceAll(/\r\n/g,""),"sensorsanalytics://trackEvent?event="+(t=encodeURIComponent(t))}(i);n.setAttribute("src",s),document.documentElement.appendChild(n),n.parentNode.removeChild(n),n=null,"function"==typeof r&&r()}else a.para.app_js_bridge.is_send?(a.debug.apph5({data:i,step:"3.2",output:"all"}),t.prepareServerUrl(e)):"function"==typeof r&&r()}else A(a.para.app_js_bridge)&&a.para.app_js_bridge.is_mui?A(window.plus)&&window.plus.SDAnalytics&&window.plus.SDAnalytics.trackH5Event?(window.plus.SDAnalytics.trackH5Event(e),"function"==typeof r&&r()):A(a.para.app_js_bridge)&&!0===a.para.app_js_bridge.is_send?t.prepareServerUrl(e):"function"==typeof r&&r():(a.debug.apph5({data:i,step:"1",output:"code"}),t.prepareServerUrl(e))},app_js_bridge_v1:function(){var e=null,t=null;window.sensorsdata_app_js_bridge_call_js=function(r){!function(r){H(e=r)&&(e=JSON.parse(e)),t&&(t(e),t=null,e=null)}(r)},a.getAppStatus=function(r){if(function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var e=document.createElement("iframe");e.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(e),e.parentNode.removeChild(e),e=null}}(),"object"==typeof window.SensorsData_APP_JS_Bridge&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&H(e=SensorsData_APP_JS_Bridge.sensorsdata_call_app())&&(e=JSON.parse(e)),!r)return e;null===e?t=r:(r(e),e=null)}},supportAppCallJs:function(){window.sensorsdata_app_call_js=function(e,t){if(e in window.sensorsdata_app_call_js.modules)return window.sensorsdata_app_call_js.modules[e](t)},window.sensorsdata_app_call_js.modules={}}},bt=function(e){this.list={},this.type=e.type,this.app_call_js=b(e.app_call_js)?e.app_call_js:function(){},this.init()};bt.prototype.init=function(){var e=this;window.sensorsdata_app_call_js.modules[this.type]||(window.sensorsdata_app_call_js.modules[this.type]=function(t){return e.app_call_js(t)})},bt.prototype.jsCallApp=function(e){var t={callType:this.type,data:e};if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage)window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(t));else{if(!A(window.SensorsData_APP_New_H5_Bridge)||!window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app)return a.log("数据发往App失败，App没有暴露bridge"),!1;window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app(JSON.stringify(t))}},bt.prototype.getAppData=function(){return A(window.SensorsData_APP_New_H5_Bridge)?b(window.SensorsData_APP_New_H5_Bridge[this.type])?window.SensorsData_APP_New_H5_Bridge[this.type]():window.SensorsData_APP_New_H5_Bridge[this.type]:A(window.SensorsData_APP_JS_Bridge)&&b(window.SensorsData_APP_JS_Bridge[this.type])?window.SensorsData_APP_JS_Bridge[this.type]():void 0},bt.prototype.hasAppBridge=function(){return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage?"ios":A(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app?"android":(a.log("App端bridge未暴露"),!1)},bt.prototype.requestToApp=function(e){var t=this,r=A(e.data)?e.data:{};b(e.callback)||(e.callback=function(){}),A(e.timeout)&&I(e.timeout.time)&&(b(e.timeout.callback)||(e.timeout.callback=function(){}),e.timer=setTimeout((function(){e.timeout.callback(),delete t.list[i]}),e.timeout.time));var i=(new Date).getTime().toString(16)+"-"+String(B()).replace(".","").slice(1,8);this.list[i]=e;var n={callType:this.type,data:r};if(n.data.message_id=i,window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage)window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(n));else{if(!A(window.SensorsData_APP_New_H5_Bridge)||!window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app)return a.log("数据发往App失败，App没有暴露bridge"),!1;window.SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app(JSON.stringify(n))}},bt.prototype.double=function(e){if(e.message_id){var t=this.list[e.message_id];t&&(t.timer&&clearTimeout(t.timer),t.callback(e),delete this.list[e.message_id])}};var kt={initUrl:function(){var e,t,r={server_url:{project:"",host:""},page_url:{host:"",pathname:""}};if(!O(a.para.server_url))return a.log("----vcollect---server_url必须为字符串"),!1;try{e=pe(a.para.server_url),r.server_url.project=e.searchParams.get("project")||"default",r.server_url.host=e.host}catch(e){return a.log("----vcollect---server_url解析异常",e),!1}try{t=pe(location.href),r.page_url.host=t.hostname,r.page_url.pathname=t.pathname}catch(e){return a.log("----vcollect---页面地址解析异常",e),!1}return r},isDiv:function(e){if(e.element_path&&"div"!==j(e.element_path.split(">").pop()).slice(0,3))return!1;return!0},configIsMatch:function(e,t){if(!t.element_path)return!1;if(t.limit_element_content&&t.element_content!==e.$element_content)return!1;if(t.limit_element_position&&t.element_position!==String(e.$element_position))return!1;if(void 0!==e.$element_position){if(t.element_path!==e.$element_path)return!1}else if(kt.isDiv({element_path:t.element_path})){if(e.$element_path.indexOf(t.element_path)<0)return!1}else if(t.element_path!==e.$element_path)return!1;return!0},filterConfig:function(e,t,r){var a=[];if(!r){var i=kt.initUrl();if(!i)return[];r=i.page_url}return"$WebClick"===e.event&&v(t,(function(t){A(t)&&("webclick"===t.event_type||"appclick"===t.event_type)&&A(t.event)&&t.event.url_host===r.host&&t.event.url_path===r.pathname&&kt.configIsMatch(e.properties,t.event)&&a.push(t)})),a},getPropElInLi:function(e,t){if(!(e&&E(e)&&O(t)))return null;if("li"!==e.tagName.toLowerCase())return null;var r=a.heatmap.getDomSelector(e);if(r){var i=te(r+t);return i||null}return a.log("----custom---获取同级属性元素失败，selector信息异常",r,t),null},getProp:function(e,t){if(!A(e))return!1;if(!(O(e.name)&&e.name.length>0))return a.log("----vcustom----属性名不合法,属性抛弃",e.name),!1;var r,i,n={};if("content"===e.method){var s;if(O(e.element_selector)&&e.element_selector.length>0)s=te(e.element_selector);else{if(!t||!O(e.list_selector))return a.log("----vcustom----属性配置异常，属性抛弃",e.name),!1;var o=te(t.properties.$element_selector);if(!o)return a.log("----vcustom----点击元素获取异常，属性抛弃",e.name),!1;var c=a.heatmap.getClosestLi(o);s=kt.getPropElInLi(c,e.list_selector)}if(!s||!E(s))return a.log("----vcustom----属性元素获取失败，属性抛弃",e.name),!1;if("input"===s.tagName.toLowerCase())r=s.value||"";else if("select"===s.tagName.toLowerCase()){var l=s.selectedIndex;I(l)&&E(s[l])&&(r=Y(s[l],"select"))}else r=Y(s,s.tagName.toLowerCase());if(e.regular){try{i=new RegExp(e.regular).exec(r)}catch(t){return a.log("----vcustom----正则处理失败，属性抛弃",e.name),!1}if(null===i)return a.log("----vcustom----属性规则处理，未匹配到结果,属性抛弃",e.name),!1;if(!f(i)||!O(i[0]))return a.log("----vcustom----正则处理异常，属性抛弃",e.name,i),!1;r=i[0]}if("STRING"===e.type)n[e.name]=r;else if("NUMBER"===e.type){if(r.length<1)return a.log("----vcustom----未获取到数字内容，属性抛弃",e.name,r),!1;if(isNaN(Number(r)))return a.log("----vcustom----数字类型属性转换失败，属性抛弃",e.name,r),!1;n[e.name]=Number(r)}return n}return a.log("----vcustom----属性不支持此获取方式",e.name,e.method),!1},getAssignConfigs:function(e,t){var r=kt.initUrl();if(!r||!r.page_url)return[];if(!A(t))return[];var a=[];return t.events=t.events||t.eventList,f(t.events)&&t.events.length>0?(v(t.events,(function(t){A(t)&&A(t.event)&&t.event.url_host===r.page_url.host&&t.event.url_path===r.page_url.pathname&&e(t)&&a.push(t)})),a):[]},addCustomProps:function(e){if("success"===a.bridge.bridge_info.verify_success){var t=a.vapph5collect.customProp.geth5Props(JSON.parse(JSON.stringify(e)));A(t)&&!$(t)&&(e.properties=w(e.properties,t))}var r=a.vtrackcollect.customProp.getVtrackProps(JSON.parse(JSON.stringify(e)));return A(r)&&!$(r)&&(e.properties=w(e.properties,r)),e},init:function(){a.vtrackcollect.init(),"success"===a.bridge.bridge_info.verify_success&&a.vapph5collect.init()}},Pt={events:[],init:function(e){this.filterWebClickEvents(e)},filterWebClickEvents:function(e){this.events=a.vtrackcollect.getAssignConfigs((function(e){return!(!A(e)||!0!==e.event.unlimited_div||"webclick"!==e.event_type)}),e)},isTargetEle:function(e){var t=a.heatmap.getEleDetail(e);if(!A(t)||!O(t.$element_path))return!1;for(var r=0;r<this.events.length;r++)if(A(this.events[r])&&A(this.events[r].event)&&a.vtrackcollect.configIsMatch(t,this.events[r].event))return!0;return!1}},Nt={events:[],configSwitch:!1,collectAble:function(){return this.configSwitch&&A(a.para.heatmap)&&a.para.heatmap.get_vtrack_config},updateEvents:function(e){this.events=a.vtrackcollect.getAssignConfigs((function(e){return!!(A(e)&&f(e.properties)&&e.properties.length>0)}),e),this.events.length?this.configSwitch=!0:this.configSwitch=!1},getVtrackProps:function(e){var t={};return this.collectAble()?("$WebClick"===e.event&&(t=this.clickCustomPropMaker(e,this.events)),t):{}},clickCustomPropMaker:function(e,t,r){var i=this;r=r||this.filterConfig(e,t,a.vtrackcollect.url_info.page_url);var n={};return r.length?(v(r,(function(t){f(t.properties)&&t.properties.length>0&&v(t.properties,(function(t){var r=i.getProp(t,e);A(r)&&w(n,r)}))})),n):{}},getProp:kt.getProp,getPropElInLi:kt.getPropElInLi,filterConfig:kt.filterConfig},Ct={unlimitedDiv:Pt,config:{},storageEnable:!0,storage_name:"webjssdkvtrackcollect",para:{session_time:18e5,timeout:5e3,update_interval:18e5},url_info:{},timer:null,update_time:null,customProp:Nt,initUrl:function(){var e=kt.initUrl();if(e){var t;try{(t=new le(a.para.server_url))._values.Path="/config/visualized/Web.conf",e.api_url=t.getUrl()}catch(e){return a.log("----vtrackcollect---API地址解析异常",e),!1}this.url_info=e}return e},init:function(){if(!A(a.para.heatmap)||!a.para.heatmap.get_vtrack_config)return!1;if(Ve.isSupport()||(this.storageEnable=!1),!this.initUrl())return a.log("----vtrackcustom----初始化失败，url信息解析失败"),!1;if(this.storageEnable){var e=Ve.parse(this.storage_name);if(A(e)&&A(e.data))if(this.serverUrlIsSame(e.serverUrl)){this.config=e.data,this.update_time=e.updateTime,this.updateConfig(e.data);var t=(new Date).getTime()-this.update_time;if(I(t)&&t>0&&t<this.para.session_time){var r=this.para.update_interval-t;this.setNextFetch(r)}else this.getConfigFromServer()}else this.getConfigFromServer();else this.getConfigFromServer()}else this.getConfigFromServer();this.pageStateListenner()},serverUrlIsSame:function(e){return!!A(e)&&(e.host===this.url_info.server_url.host&&e.project===this.url_info.server_url.project)},getConfigFromServer:function(){var e=this;this.sendRequest((function(t,r){e.update_time=(new Date).getTime();var i={};200===t?r&&A(r)&&"Web"===r.os&&(i=r,e.updateConfig(i)):205===t?e.updateConfig(i):304===t?i=e.config:(a.log("----vtrackcustom----数据异常",t),e.updateConfig(i)),e.updateStorage(i),e.setNextFetch()}),(function(t){e.update_time=(new Date).getTime(),a.log("----vtrackcustom----配置拉取失败",t),e.setNextFetch()}))},setNextFetch:function(e){var t=this;this.timer&&(clearTimeout(this.timer),this.timer=null),e=e||this.para.update_interval,this.timer=setTimeout((function(){t.getConfigFromServer()}),e)},pageStateListenner:function(){var e=this;et({visible:function(){var t=(new Date).getTime()-e.update_time;if(I(t)&&t>0&&t<e.para.update_interval){var r=e.para.update_interval-t;e.setNextFetch(r)}else e.getConfigFromServer()},hidden:function(){e.timer&&(clearTimeout(e.timer),e.timer=null)}})},updateConfig:function(e){if(!A(e))return!1;this.config=e,this.customProp.updateEvents(e),this.unlimitedDiv.init(e)},updateStorage:function(e){if(!this.storageEnable)return!1;if(!A(e))return!1;var t;if(this.url_info.server_url)t=this.url_info.server_url;else{var r=a.vtrackcollect.initUrl();if(!r)return!1;t=r.server_url}var i={updateTime:(new Date).getTime(),data:e,serverUrl:t};Ve.set(this.storage_name,JSON.stringify(i))},sendRequest:function(e,t){var r={app_id:this.url_info.page_url.host};this.config.version&&(r.v=this.config.version),at({url:this.url_info.api_url,callbackName:"saJSSDKVtrackCollectConfig",data:r,timeout:this.para.timeout,success:function(t,r){e(t,r)},error:function(e){t(e)}})},getAssignConfigs:kt.getAssignConfigs,configIsMatch:kt.configIsMatch},jt={events:[],customProp:{events:[],getAssignConfigs:kt.getAssignConfigs,filterConfig:kt.filterConfig,getProp:kt.getProp,initUrl:kt.initUrl,updateEvents:function(e){f(e)&&(this.events=e)},init:function(){this.initAppGetPropsBridge()},geth5Props:function(e){var t={},r=[],a=this;if(!this.events.length)return{};if("$WebClick"===e.event){var i=this.filterConfig(e,this.events);if(!i.length)return{};v(i,(function(i){A(i)&&(f(i.properties)&&i.properties.length>0&&v(i.properties,(function(r){if(A(r))if(!1===r.h5)f(t.sensorsdata_app_visual_properties)||(t.sensorsdata_app_visual_properties=[]),t.sensorsdata_app_visual_properties.push(r);else{var i=a.getProp(r,e);A(i)&&(t=w(t,i))}})),O(i.event_name)&&r.push(i.event_name))})),A(window.SensorsData_App_Visual_Bridge)&&window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode&&(!0===window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode||window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode())&&(t.sensorsdata_web_visual_eventName=r)}return t.sensorsdata_app_visual_properties&&(t.sensorsdata_app_visual_properties=M(JSON.stringify(t.sensorsdata_app_visual_properties))),t},initAppGetPropsBridge:function(){var e=this;return new a.JSBridge({type:"getJSVisualProperties",app_call_js:function(t){var r={};try{t=JSON.parse(q(t))}catch(e){a.log("getJSVisualProperties data parse error!")}if(A(t)){var i=t.sensorsdata_js_visual_properties,n=e.initUrl();n&&(n=n.page_url,f(i)&&i.length>0&&v(i,(function(t){if(A(t)&&t.url_host===n.host&&t.url_path===n.pathname&&t.h5){var a=e.getProp(t);A(a)&&(r=w(r,a))}})))}if("android"===a.bridge.bridge_info.platform){var s={callType:"getJSVisualProperties",data:r};A(t)&&t.message_id&&(s.message_id=t.message_id),A(window.SensorsData_APP_New_H5_Bridge)&&b(SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app)?SensorsData_APP_New_H5_Bridge.sensorsdata_js_call_app(JSON.stringify(s)):A(window.SensorsData_APP_JS_Bridge)&&b(SensorsData_APP_JS_Bridge.sensorsdata_js_call_app)&&SensorsData_APP_JS_Bridge.sensorsdata_js_call_app(JSON.stringify(s))}return r}})}},getAssignConfigs:kt.getAssignConfigs,initUrl:kt.initUrl,init:function(){if(this.initUrl()){var e=this.getConfigFromApp();e&&this.updateConfigs(e),this.customProp.init(),this.initAppUpdateConfigBridge()}},initAppUpdateConfigBridge:function(){var e=this;return new a.JSBridge({type:"updateH5VisualConfig",app_call_js:function(t){if(t){try{t=JSON.parse(q(t))}catch(e){return void a.log("updateH5VisualConfig result parse error！")}e.updateConfigs(t)}}})},getConfigFromApp:function(){var e=new a.JSBridge({type:"sensorsdata_get_app_visual_config"}).getAppData();if(e)try{e=JSON.parse(q(e))}catch(t){e=null,a.log("getAppVisualConfig result parse error！")}return e},updateConfigs:function(e){this.events=this.filterConfigs(e),this.customProp.updateEvents(this.events)},filterConfigs:function(e){return this.getAssignConfigs((function(e){return!(!A(e)||!1===e.h5)}),e)}},At=["setItem","deleteItem","getAppStatus","track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","login","logout","trackLink","clearAllRegister","clearPageRegister"];var $t={searchKeywordMatch:location.search.match(/sa-request-id=([^&#]+)/),isSeachHasKeyword:function(){var e=this.searchKeywordMatch;return!!(e&&e[0]&&e[1])&&("string"==typeof sessionStorage.getItem("sensors-visual-mode")&&sessionStorage.removeItem("sensors-visual-mode"),!0)},hasKeywordHandle:function(){var e=this.searchKeywordMatch,t=location.search.match(/sa-request-type=([^&#]+)/),r=location.search.match(/sa-request-url=([^&#]+)/);ut.setNotice(r),ze.isSupport()&&(r&&r[0]&&r[1]&&sessionStorage.setItem("sensors_heatmap_url",decodeURIComponent(r[1])),sessionStorage.setItem("sensors_heatmap_id",e[1]),t&&t[0]&&t[1]?"1"===t[1]||"2"===t[1]||"3"===t[1]?(t=t[1],sessionStorage.setItem("sensors_heatmap_type",t)):t=null:t=null!==sessionStorage.getItem("sensors_heatmap_type")?sessionStorage.getItem("sensors_heatmap_type"):null),this.isReady(e[1],t)},isReady:function(e,t,r){a.para.heatmap_url?G({success:function(){setTimeout((function(){"undefined"!=typeof sa_jssdk_heatmap_render&&(sa_jssdk_heatmap_render(a,e,t,r),"object"==typeof console&&"function"==typeof console.log&&(a.heatmap_version&&a.heatmap_version===a.lib_version||console.log("heatmap.js与sensorsdata.js版本号不一致，可能存在风险!")))}),0)},error:function(){},type:"js",url:a.para.heatmap_url}):a.log("没有指定heatmap_url的路径")},isStorageHasKeyword:function(){return ze.isSupport()&&"string"==typeof sessionStorage.getItem("sensors_heatmap_id")},storageHasKeywordHandle:function(){ut.setNotice(),$t.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)}},Dt={isStorageHasKeyword:function(){return ze.isSupport()&&"string"==typeof sessionStorage.getItem("sensors-visual-mode")},isSearchHasKeyword:function(){return!!location.search.match(/sa-visual-mode=true/)&&("string"==typeof sessionStorage.getItem("sensors_heatmap_id")&&sessionStorage.removeItem("sensors_heatmap_id"),!0)},loadVtrack:function(){G({success:function(){},error:function(){},type:"js",url:a.para.vtrack_url?a.para.vtrack_url:location.protocol+"//static.sensorsdata.cn/sdk/"+a.lib_version+"/vtrack.min.js"})},messageListener:function(e){if("sa-fe"!==e.data.source)return!1;if("v-track-mode"===e.data.type){if(e.data.data&&e.data.data.isVtrack)if(ze.isSupport()&&sessionStorage.setItem("sensors-visual-mode","true"),e.data.data.userURL&&location.search.match(/sa-visual-mode=true/)){var t=(r=e.data.data.userURL,ie.isHttpUrl(r)?ie.removeScriptProtocol(r):(a.log("可视化模式检测 URL 失败"),!1));t&&(window.location.href=t)}else Dt.loadVtrack();window.removeEventListener("message",Dt.messageListener,!1)}var r},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",Dt.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",Dt.messageListener,!1),Dt.postMessage()},postMessage:function(){window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{sdkversion:"1.19.10"}},"*")},notifyUser:function(){var e=function(t){if("sa-fe"!==t.data.source)return!1;"v-track-mode"===t.data.type&&(t.data.data&&t.data.data.isVtrack&&alert("当前版本不支持，请升级部署神策数据治理"),window.removeEventListener("message",e,!1))};window.addEventListener&&window.addEventListener("message",e,!1),Dt.postMessage()}};function Ot(e){var t=a.bridge.bridge_info;function r(){var e=[];t.touch_app_bridge||e.push(a.debug.defineMode("1")),A(a.para.app_js_bridge)||(e.push(a.debug.defineMode("2")),t.verify_success=!1),A(a.para.heatmap)&&"default"==a.para.heatmap.clickmap||e.push(a.debug.defineMode("3")),"fail"===t.verify_success&&e.push(a.debug.defineMode("4"));var r={callType:"app_alert",data:e};SensorsData_App_Visual_Bridge&&SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info?SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info(JSON.stringify(r)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(r))}if(A(window.SensorsData_App_Visual_Bridge)&&window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode&&(!0===window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode||window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode()))if(A(a.para.heatmap)&&"default"==a.para.heatmap.clickmap)if(A(a.para.app_js_bridge)&&"success"===t.verify_success)if(e)sa_jssdk_app_define_mode(a,e);else{var i=location.protocol;G({success:function(){setTimeout((function(){"undefined"!=typeof sa_jssdk_app_define_mode&&sa_jssdk_app_define_mode(a,e)}),0)},error:function(){},type:"js",url:(i=N(["http:","https:"],i)>-1?i:"https:")+"//static.sensorsdata.cn/sdk/"+a.lib_version+"/vapph5define.min.js"})}else r();else r()}function Tt(){a.readyState.setState(3),new a.JSBridge({type:"visualized",app_call_js:function(){"undefined"!=typeof sa_jssdk_app_define_mode?Ot(!0):Ot(!1)}}),Ot(!1),a.bridge.app_js_bridge_v1(),Re.initPage(),a.para.is_track_single_page&&Ge((function(e){var t=function(t){t=t||{},e!==location.href&&(Re.pageProp.referrer=fe(e),a.quick("autoTrack",w({$url:fe(),$referrer:fe(e)},t)))};if("boolean"==typeof a.para.is_track_single_page)t();else if("function"==typeof a.para.is_track_single_page){var r=a.para.is_track_single_page();A(r)?t(r):!0===r&&t()}})),a.para.batch_send&&(Qe(window,"onpagehide"in window?"pagehide":"unload",(function(){a.batchSend.clearPendingStatus()})),a.batchSend.batchInterval()),a.store.init(),a.vtrackBase.init(),a.readyState.setState(4),a._q&&f(a._q)&&a._q.length>0&&v(a._q,(function(e){a[e[0]].apply(a,Array.prototype.slice.call(e[1]))})),A(a.para.heatmap)&&(ut.initHeatmap(),ut.initScrollmap())}a.modules={},a._=nt,a.kit=dt,a.saEvent=lt,a.sendState=vt,a.events=new it,a.batchSend=wt,a.bridge=St,a.JSBridge=bt,a.store=ot,a.vtrackBase=kt,a.unlimitedDiv=Pt,a.customProp=Nt,a.vtrackcollect=Ct,a.vapph5collect=jt,a.heatmap=ut,a.detectMode=function(){$t.isSeachHasKeyword()?$t.hasKeywordHandle():window.parent!==self&&Dt.isSearchHasKeyword()?Dt.verifyVtrackMode():$t.isStorageHasKeyword()?$t.storageHasKeywordHandle():window.parent!==self&&Dt.isStorageHasKeyword()?Dt.verifyVtrackMode():(Tt(),Dt.notifyUser())},a.init=function(e){if(a.readyState&&a.readyState.state&&a.readyState.state>=2)return!1;a.setInitVar(),a.readyState.setState(2),a.initPara(e),a.bridge.supportAppCallJs(),a.detectMode(),a.iOSWebClickPolyfill()},v(At,(function(e){var t=a[e];a[e]=function(){if(a.readyState.state<3)return f(a._q)||(a._q=[]),a._q.push([e,arguments]),!1;if(a.readyState.getState())return t.apply(a,arguments);try{console.error("请先初始化神策JS SDK")}catch(e){a.log(e)}}}));var xt=a;"string"==typeof window.sensorsDataAnalytic201505?(a.setPreConfig(window[sensorsDataAnalytic201505]),window[sensorsDataAnalytic201505]=a,window.sensorsDataAnalytic201505=a,a.init()):void 0===window.sensorsDataAnalytic201505?window.sensorsDataAnalytic201505=a:xt=window.sensorsDataAnalytic201505;var It=xt;t.a=It}}]);